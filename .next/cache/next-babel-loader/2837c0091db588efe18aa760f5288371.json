{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query($domain: String!) {\\n    shop(domain: $domain) {\\n      name\\n      accessToken\\n      settings\\n      user {\\n        id\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { Pane, Heading } from 'evergreen-ui';\nimport { front, prodFront } from '../../config';\nimport Playground from './playground';\nimport Tracking from './apps/tracking';\nexport var shopQuery = gql(_templateObject());\nexport var shopQueryVars = {\n  skip: 0,\n  first: 10\n}; // function postRequest(url, data) {\n//   return fetch(url, {\n//     credentials: 'same-origin', // 'include', default: 'omit'\n//     method: 'POST', // 'GET', 'PUT', 'DELETE', etc.\n//     body: JSON.stringify(data), // Use correct payload (matching 'Content-Type')\n//     headers: { 'Content-Type': 'application/json' },\n//   })\n//     .then(response => response.json())\n//     .catch(error => console.error(error));\n// }\n\nexport default function Shop(_ref) {\n  var shop = _ref.shop;\n  return React.createElement(Query, {\n    query: shopQuery,\n    variables: {\n      domain: shop\n    }\n  }, function (_ref2) {\n    var data = _ref2.data,\n        error = _ref2.error,\n        loading = _ref2.loading;\n    if (loading) return React.createElement(\"p\", null, \"Loading...\");\n    if (!data) return React.createElement(\"h1\", null, \"This shop is not added to your account.\");\n    if (error || !data.shop) return React.createElement(\"h1\", null, \"Error loading shops: \", error);\n    var _data$shop = data.shop,\n        name = _data$shop.name,\n        accessToken = _data$shop.accessToken;\n    /* eslint-disable*/\n    // postRequest(\n    //   `${\n    //     process.env.NODE_ENV === 'development' ? front : prodFront\n    //   }/_shopify`,\n    //   { shop }\n    // );\n\n    return React.createElement(Pane, {\n      width: \"100%\",\n      marginBottom: \"-2em\",\n      borderWidth: \"0\"\n    }, React.createElement(Pane, {\n      paddingY: 16,\n      paddingX: \"2rem\"\n    }, React.createElement(Pane, {\n      alignItems: \"center\",\n      display: \"flex\",\n      marginBottom: 15\n    }, React.createElement(Heading, {\n      size: 700\n    }, name)), React.createElement(Heading, {\n      size: 500,\n      marginBottom: 15\n    }, \"Apps\"), React.createElement(Pane, {\n      display: \"flex\"\n    }, React.createElement(Tracking, {\n      url: \"\".concat(process.env.NODE_ENV === \"development\" ? front : prodFront, \"/\").concat(accessToken, \"/graphql\")\n    })), React.createElement(Heading, {\n      size: 500,\n      marginTop: 25\n    }, \"Playground\")), React.createElement(Playground, {\n      accessToken: accessToken,\n      shop: shop,\n      url: \"\".concat(process.env.NODE_ENV === \"development\" ? front : prodFront, \"/\").concat(accessToken, \"/graphql\")\n    }));\n  });\n}","map":null,"metadata":{},"sourceType":"module"}