{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { Pane, TextInput, Heading, Text, Spinner, Badge } from 'evergreen-ui';\nimport Button from '../../common/Button';\n\nfunction getTracking(url, input, setResult, setLoading) {\n  setLoading(true);\n  setResult('');\n  fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: _JSON$stringify({\n      query: `\n{\n  orders(\n    first: 1\n    query: \"${input}\"\n  ) {\n    edges {\n      node {\n        fulfillments(first: 25) {\n          trackingInfo {\n            company\n            number\n            url\n          }\n        }\n      }\n    }\n  }\n}\n    `\n    })\n  }).then(res => res.json()).then(res => {\n    if (res.data.orders.edges.length) {\n      setResult(res.data.orders.edges[0].node.fulfillments[0].trackingInfo[0]);\n    } else {\n      setResult({\n        error: `No orders found matching ${input}`\n      });\n    }\n\n    setLoading(false);\n  });\n}\n\nconst Tracking = ({\n  url\n}) => {\n  const {\n    0: result,\n    1: setResult\n  } = useState('');\n  const {\n    0: input,\n    1: setInput\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  return __jsx(Pane, {\n    elevation: 1,\n    borderRadius: \"5px\",\n    padding: 15,\n    background: \"#fff\"\n  }, __jsx(Heading, {\n    size: 400,\n    marginBottom: 10\n  }, \"Fetch Tracking\"), __jsx(Pane, {\n    display: \"flex\",\n    marginBottom: 15\n  }, __jsx(TextInput, {\n    onChange: e => setInput(e.target.value),\n    value: input,\n    height: 24,\n    className: \"clean-input\",\n    backgroundColor: \"#F5F6F7 !important\",\n    placeholder: \"e.g. order number, customer email, name, address, etc.\"\n  }), __jsx(Button, {\n    intent: \"success\",\n    height: 24,\n    fontSize: \"13px\",\n    marginLeft: 10,\n    onClick: () => getTracking(url, input, setResult, setLoading)\n  }, \"Get Tracking\")), loading && __jsx(Spinner, {\n    size: 24\n  }), result && __jsx(Pane, {\n    display: \"flex\",\n    alignItems: \"center\"\n  }, result.company && __jsx(Badge, {\n    color: \"blue\",\n    marginRight: 8\n  }, result.company), __jsx(\"a\", {\n    href: result.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, __jsx(Text, null, result.number)), result.error && __jsx(Badge, {\n    color: \"red\",\n    marginRight: 8\n  }, result.error)));\n};\n\nexport default Tracking;","map":null,"metadata":{},"sourceType":"module"}