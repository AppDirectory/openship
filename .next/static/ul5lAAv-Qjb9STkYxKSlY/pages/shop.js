(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Xyu5:function(n,e,t){"use strict";t.r(e);var r=t("q1tI"),a=t.n(r),o=t("Ar1z"),i=t("rt45"),c=t("4KRT"),s=t("lTCR"),u=t.n(s),l=t("eqHG"),d=t("obyI"),p=t("0iUn"),h=t("sLSF"),m=t("MI3g"),f=t("a7VT"),g=t("AT/M"),b=t("Tit0"),y=t("vYYK"),v=a.a.createElement,w=function(n){function e(){var n;return Object(p.a)(this,e),n=Object(m.a)(this,Object(f.a)(e).call(this)),Object(y.a)(Object(g.a)(n),"componentWillReceiveProps",(function(e){n.URL.current.contentWindow.m.handleChangeEndpoint("".concat(d.b,"/").concat(e.accessToken,"/graphql"))})),n.state={renderElements:!0},n.URL=a.a.createRef(),n}return Object(b.a)(e,n),Object(h.a)(e,[{key:"render",value:function(){var n=this,e=this.props,t=e.shop,r=e.url;e.accessToken;return this.state.renderElements&&v("iframe",{src:"".concat(d.b,"/playgrounds"),title:"".concat(t," playground"),width:"100%",height:"1000px",id:"myId",className:"\ud83d\udce6b-btm-wdt_0 \ud83d\udce6b-lft-wdt_0 \ud83d\udce6b-rgt-wdt_0 \ud83d\udce6b-top-wdt_0",ref:this.URL,onLoad:function(){return n.URL.current.contentWindow.m.handleChangeEndpoint(r)}})}}]),e}(a.a.Component),T=t("9Jkg"),k=t.n(T),j=t("vcXL"),q=t.n(j),O=t("IZhw"),E=t("uu8G"),R=t("8DS0"),_=t("raqX"),x=t("4qaV"),L=a.a.createElement;var S=function(n){var e=n.url,t=Object(r.useState)(""),a=t[0],i=t[1],c=Object(r.useState)(""),s=c[0],u=c[1],d=Object(r.useState)(!1),p=d[0],h=d[1];return L(o.a,{elevation:1,borderRadius:"5px",padding:15,background:"#fff"},L(l.a,{size:400,marginBottom:10},"Fetch Tracking"),L(o.a,{display:"flex",marginBottom:15},L(O.a,{onChange:function(n){return u(n.target.value)},value:s,height:24,className:"clean-input",backgroundColor:"#F5F6F7 !important",placeholder:"e.g. order number, customer email, name, address, etc."}),L(x.a,{intent:"success",height:24,fontSize:"13px",marginLeft:10,onClick:function(){return function(n,e,t,r){r(!0),t(""),q()(n,{method:"POST",headers:{"Content-Type":"application/json"},body:k()({query:'\n{\n  orders(\n    first: 1\n    query: "'.concat(e,'"\n  ) {\n    edges {\n      node {\n        fulfillments(first: 25) {\n          trackingInfo {\n            company\n            number\n            url\n          }\n        }\n      }\n    }\n  }\n}\n    ')})}).then((function(n){return n.json()})).then((function(n){n.data.orders.edges.length?t(n.data.orders.edges[0].node.fulfillments[0].trackingInfo[0]):t({error:"No orders found matching ".concat(e)}),r(!1)}))}(e,s,i,h)}},"Get Tracking")),p&&L(E.a,{size:24}),a&&L(o.a,{display:"flex",alignItems:"center"},a.company&&L(R.a,{color:"blue",marginRight:8},a.company),L("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},L(_.a,null,a.number)),a.error&&L(R.a,{color:"red",marginRight:8},a.error)))},I=a.a.createElement;function X(){var n=Object(i.a)(["\n  query($domain: String!) {\n    shop(domain: $domain) {\n      name\n      accessToken\n      settings\n      user {\n        id\n      }\n    }\n  }\n"]);return X=function(){return n},n}var C=u()(X());function z(n){var e=n.shop;return I(c.Query,{query:C,variables:{domain:e}},(function(n){var t=n.data,r=n.error;if(n.loading)return I("p",null,"Loading...");if(!t)return I("h1",null,"This shop is not added to your account.");if(r||!t.shop)return I("h1",null,"Error loading shops: ",r);var a=t.shop,i=a.name,c=a.accessToken;return I(o.a,{width:"100%",marginBottom:"-2em",borderWidth:"0"},I(o.a,{paddingY:16,paddingX:"2rem"},I(o.a,{alignItems:"center",display:"flex",marginBottom:15},I(l.a,{size:700},i)),I(l.a,{size:500,marginBottom:15},"Apps"),I(o.a,{display:"flex"},I(S,{url:"".concat(d.b,"/").concat(c,"/graphql")})),I(l.a,{size:500,marginTop:25},"Playground")),I(w,{accessToken:c,shop:e,url:"".concat(d.b,"/").concat(c,"/graphql")}))}))}var B=a.a.createElement;e.default=function(n){var e=n.query;return B(o.a,{marginX:"-2em",height:"100%"},B(z,{shop:e.shop}))}},o96S:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop",function(){return t("Xyu5")}])},vcXL:function(n,e,t){"use strict";var r=self.fetch.bind(self);n.exports=r,n.exports.default=n.exports}},[["o96S",1,0]]]);