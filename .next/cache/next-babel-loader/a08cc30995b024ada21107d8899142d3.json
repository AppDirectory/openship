{"ast":null,"code":"import React from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { Pane, Heading } from 'evergreen-ui';\nimport { front, prodFront } from '../../config';\nimport Playground from './playground';\nimport Tracking from './apps/tracking';\nexport const shopQuery = gql`\n  query($domain: String!) {\n    shop(domain: $domain) {\n      name\n      accessToken\n      settings\n      user {\n        id\n      }\n    }\n  }\n`;\nexport const shopQueryVars = {\n  skip: 0,\n  first: 10\n}; // function postRequest(url, data) {\n//   return fetch(url, {\n//     credentials: 'same-origin', // 'include', default: 'omit'\n//     method: 'POST', // 'GET', 'PUT', 'DELETE', etc.\n//     body: JSON.stringify(data), // Use correct payload (matching 'Content-Type')\n//     headers: { 'Content-Type': 'application/json' },\n//   })\n//     .then(response => response.json())\n//     .catch(error => console.error(error));\n// }\n\nexport default function Shop({\n  shop\n}) {\n  return React.createElement(Query, {\n    query: shopQuery,\n    variables: {\n      domain: shop\n    }\n  }, ({\n    data,\n    error,\n    loading\n  }) => {\n    if (loading) return React.createElement(\"p\", null, \"Loading...\");\n    if (!data) return React.createElement(\"h1\", null, \"This shop is not added to your account.\");\n    if (error || !data.shop) return React.createElement(\"h1\", null, \"Error loading shops: \", error);\n    const {\n      shop: {\n        name,\n        accessToken\n      }\n    } = data;\n    /* eslint-disable*/\n    // postRequest(\n    //   `${\n    //     process.env.NODE_ENV === 'development' ? front : prodFront\n    //   }/_shopify`,\n    //   { shop }\n    // );\n\n    return React.createElement(Pane, {\n      width: \"100%\",\n      marginBottom: \"-2em\",\n      borderWidth: \"0\"\n    }, React.createElement(Pane, {\n      paddingY: 16,\n      paddingX: \"2rem\"\n    }, React.createElement(Pane, {\n      alignItems: \"center\",\n      display: \"flex\",\n      marginBottom: 15\n    }, React.createElement(Heading, {\n      size: 700\n    }, name)), React.createElement(Heading, {\n      size: 500,\n      marginBottom: 15\n    }, \"Apps\"), React.createElement(Pane, {\n      display: \"flex\"\n    }, React.createElement(Tracking, {\n      url: `${process.env.NODE_ENV === \"development\" ? front : prodFront}/${accessToken}/graphql`\n    })), React.createElement(Heading, {\n      size: 500,\n      marginTop: 25\n    }, \"Playground\")), React.createElement(Playground, {\n      accessToken: accessToken,\n      shop: shop,\n      url: `${process.env.NODE_ENV === \"development\" ? front : prodFront}/${accessToken}/graphql`\n    }));\n  });\n}","map":null,"metadata":{},"sourceType":"module"}