{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Box, Heading, Button, Popover, PopoverContent, PopoverTrigger, Input, Text } from '@chakra-ui/core';\nimport ShopListItem from './ShopListItem';\nexport const ALL_SHOPS_QUERY = gql`\n  query($first: Int!, $skip: Int!) {\n    shops(orderBy: createdAt_DESC, first: $first, skip: $skip) {\n      id\n      domain\n      accessToken\n      createdAt\n      name\n      settings\n    }\n  }\n`;\nexport const shopsQueryVars = {\n  skip: 0,\n  first: 10\n};\nexport default function ShopList() {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(ALL_SHOPS_QUERY, {\n    variables: shopsQueryVars\n  });\n  return __jsx(React.Fragment, null, __jsx(Box, {\n    display: \"flex\",\n    py: 4\n  }, __jsx(Heading, {\n    fontSize: \"2xl\",\n    color: \"text\",\n    fontWeight: 500\n  }, \"Shops\"), __jsx(Box, {\n    ml: \"auto\"\n  }, __jsx(Popover, {\n    placement: \"bottom-end\"\n  }, __jsx(PopoverTrigger, null, __jsx(Button, {\n    background: \"#DDEBF7\",\n    color: \"#1070CA\",\n    borderRadius: 3,\n    marginRight: 1,\n    px: 2,\n    height: 5,\n    textTransform: \"uppercase\",\n    letterSpacing: \"wide\",\n    fontSize: \"xs\",\n    fontWeight: 700\n  }, \"Add Shop\")), __jsx(PopoverContent, {\n    zIndex: 4\n  }, __jsx(Box, {\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"left\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    padding: 15\n  }, __jsx(\"form\", {\n    method: \"GET\",\n    action: \"/shopify/auth\",\n    style: {\n      width: '100%'\n    }\n  }, __jsx(Text, {\n    fontSize: \"sm\",\n    color: \"gray.600\",\n    mb: 1,\n    fontWeight: 500\n  }, \"Shop Name\"), __jsx(Input, {\n    label: \"Shop Name\",\n    mb: 2\n  }), __jsx(Text, {\n    fontSize: \"sm\",\n    color: \"gray.600\",\n    mb: 1,\n    fontWeight: 500\n  }, \"Shop URL\"), __jsx(Input, {\n    label: \"Shop URL\",\n    mb: 1,\n    id: \"shop\",\n    name: \"shop\"\n  }), __jsx(Text, {\n    fontSize: \"xs\",\n    color: \"gray.500\",\n    mb: 1\n  }, \"Must end in .myshopify.com\"), __jsx(Button, {\n    variantColor: \"green\",\n    variant: \"ghost\",\n    backgroundColor: \"green.50\",\n    borderRadius: 3,\n    marginRight: 1,\n    px: 3,\n    height: 8,\n    width: \"100%\"\n  }, __jsx(Heading, {\n    fontSize: \"sm\",\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    letterSpacing: \"wide\"\n  }, \"Add Shop\")))))))), (() => {\n    if (loading) return __jsx(\"p\", null, \"Loading...\");\n    if (error || !data.shops) return __jsx(\"h1\", null, \"Error loading shops: \", error);\n    return __jsx(Box, {\n      display: \"flex\",\n      width: \"calc(100% + 20px)\",\n      flexWrap: \"wrap\",\n      marginX: \"-10px\"\n    }, data.shops.map(shop => __jsx(Box, {\n      flex: 1,\n      padding: 3,\n      key: shop.id\n    }, __jsx(ShopListItem, {\n      shop: shop\n    }))));\n  })());\n}","map":{"version":3,"sources":["/Users/junaid/openship2/components/shops/ShopList.js"],"names":["useQuery","gql","Box","Heading","Button","Popover","PopoverContent","PopoverTrigger","Input","Text","ShopListItem","ALL_SHOPS_QUERY","shopsQueryVars","skip","first","ShopList","data","loading","error","variables","width","shops","map","shop","id"],"mappings":"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","sourcesContent":["import { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport {\n  Box,\n  Heading,\n  Button,\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n  Input,\n  Text,\n} from '@chakra-ui/core';\nimport ShopListItem from './ShopListItem';\n\nexport const ALL_SHOPS_QUERY = gql`\n  query($first: Int!, $skip: Int!) {\n    shops(orderBy: createdAt_DESC, first: $first, skip: $skip) {\n      id\n      domain\n      accessToken\n      createdAt\n      name\n      settings\n    }\n  }\n`;\n\nexport const shopsQueryVars = {\n  skip: 0,\n  first: 10,\n};\n\nexport default function ShopList() {\n  const { data, loading, error } = useQuery(ALL_SHOPS_QUERY, {\n    variables: shopsQueryVars,\n  });\n\n  return (\n    <>\n      <Box display=\"flex\" py={4}>\n        <Heading fontSize=\"2xl\" color=\"text\" fontWeight={500}>\n          Shops\n        </Heading>\n        <Box ml=\"auto\">\n          <Popover placement=\"bottom-end\">\n            <PopoverTrigger>\n              <Button\n                background=\"#DDEBF7\"\n                color=\"#1070CA\"\n                borderRadius={3}\n                marginRight={1}\n                px={2}\n                height={5}\n                textTransform=\"uppercase\"\n                letterSpacing=\"wide\"\n                fontSize=\"xs\"\n                fontWeight={700}\n              >\n                Add Shop\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent zIndex={4}>\n              <Box\n                width=\"100%\"\n                display=\"flex\"\n                alignItems=\"left\"\n                justifyContent=\"center\"\n                flexDirection=\"column\"\n                padding={15}\n              >\n                <form\n                  method=\"GET\"\n                  action=\"/shopify/auth\"\n                  style={{ width: '100%' }}\n                >\n                  <Text fontSize=\"sm\" color=\"gray.600\" mb={1} fontWeight={500}>\n                    Shop Name\n                  </Text>\n                  <Input label=\"Shop Name\" mb={2} />\n\n                  <Text fontSize=\"sm\" color=\"gray.600\" mb={1} fontWeight={500}>\n                    Shop URL\n                  </Text>\n                  <Input label=\"Shop URL\" mb={1} id=\"shop\" name=\"shop\" />\n                  <Text fontSize=\"xs\" color=\"gray.500\" mb={1}>\n                    Must end in .myshopify.com\n                  </Text>\n\n                  <Button\n                    variantColor=\"green\"\n                    variant=\"ghost\"\n                    backgroundColor=\"green.50\"\n                    borderRadius={3}\n                    marginRight={1}\n                    px={3}\n                    height={8}\n                    width=\"100%\"\n                  >\n                    <Heading\n                      fontSize=\"sm\"\n                      fontWeight={700}\n                      textTransform=\"uppercase\"\n                      letterSpacing=\"wide\"\n                    >\n                      Add Shop\n                    </Heading>\n                  </Button>\n                </form>\n              </Box>\n            </PopoverContent>\n          </Popover>\n        </Box>\n      </Box>\n      {(() => {\n        if (loading) return <p>Loading...</p>;\n        if (error || !data.shops) return <h1>Error loading shops: {error}</h1>;\n        return (\n          <Box\n            display=\"flex\"\n            width=\"calc(100% + 20px)\"\n            flexWrap=\"wrap\"\n            marginX=\"-10px\"\n          >\n            {data.shops.map(shop => (\n              <Box flex={1} padding={3} key={shop.id}>\n                <ShopListItem shop={shop} />\n              </Box>\n            ))}\n          </Box>\n        );\n      })()}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}