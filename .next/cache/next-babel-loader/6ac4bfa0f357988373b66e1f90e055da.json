{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation SIGNUP_MUTATION(\\n    $email: String!\\n    $name: String!\\n    $password: String!\\n  ) {\\n    signup(email: $email, name: $name, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { CURRENT_USER_QUERY } from './User';\nimport Userform from './Userform';\nvar SIGNUP_MUTATION = gql(_templateObject());\n\nfunction Signup(_ref) {\n  var formChange = _ref.formChange;\n\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(''),\n      email = _useState3[0],\n      setEmail = _useState3[1];\n\n  return __jsx(Mutation, {\n    mutation: SIGNUP_MUTATION,\n    variables: {\n      name: name,\n      password: password,\n      email: email\n    },\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }]\n  }, function (signup, _ref2) {\n    var error = _ref2.error,\n        loading = _ref2.loading;\n    return __jsx(Userform, {\n      title: \"Create an account\",\n      handleToggleClick: function handleToggleClick() {\n        return formChange();\n      },\n      buttonTitle: \"Sign Up\",\n      buttonColor: \"#47B881\",\n      error: error,\n      loading: loading,\n      buttonDisabled: !email || !password || !name,\n      fields: [{\n        label: 'Name',\n        value: name,\n        onChange: setName,\n        icon: 'person'\n      }, {\n        label: 'Email',\n        value: email,\n        onChange: setEmail,\n        icon: 'envelope'\n      }, {\n        label: 'Password',\n        value: password,\n        onChange: setPassword,\n        icon: 'lock'\n      }],\n      bottomText: \"Already have an account?\",\n      bottomLinkText: \"Sign In\",\n      onSubmit: function _callee(e) {\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                _context.next = 3;\n                return _regeneratorRuntime.awrap(signup());\n\n              case 3:\n                setName('');\n                setEmail('');\n                setPassword('');\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        });\n      }\n    });\n  });\n}\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}