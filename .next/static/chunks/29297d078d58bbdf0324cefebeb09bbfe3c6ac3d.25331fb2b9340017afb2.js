(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/ywb":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("BMxC"),o=n("qWyU"),s=a.a.createElement;t.a=function(e){var t=e.shops,n=e.client,r=e.updateClient;return s(i.a,{display:"flex",flexWrap:"wrap"},t.map((function(e){return s(i.a,{p:2,mr:2,mt:2,borderRadius:2,bg:n===e.domain.split(".")[0]?"blue.50":"gray.50",onClick:function(){return r(e.domain.split(".")[0])},cursor:"pointer"},s(o.a,{fontSize:"xs",fontWeight:500,color:n===e.domain.split(".")[0]?"blue.600":"gray.500",letterSpacing:"wide",textTransform:"uppercase"},e.domain.split(".")[0]))})))}},"7S/q":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("wx14"),a=n("q1tI"),i=n.n(a),o=n("BMxC"),s=n("qWyU"),l=n("sK1y"),d=n("EsjQ"),p=n("eJLp"),c=n("w0db"),u=n("XZ7F"),m=n("iWLl"),g=i.a.createElement,f={flex:"1 1 10rem",marginLeft:"1.5rem",marginTop:".3rem"},b={flex:"2 2 20rem",marginLeft:"1.5rem",marginTop:".3rem"},h=function(e){var t=e.backgroundColor,n=e.name,r=e.store,a=e.processedAt,u=e.fulfillments,m=e.lineItems,h=e.shippingAddress,S=e.onOpen;return g(i.a.Fragment,null,g(o.a,{display:"flex",paddingY:4,backgroundColor:t,boxShadow:t&&"0 0 1px rgba(67, 90, 111, 0.3)",paddingX:t&&4},g(o.a,{flex:1,alignItems:"center",display:"flex"},g(o.a,null,g(s.a,{size:"lg",fontWeight:600,color:"text"},n),g(s.a,{fontSize:"xs",fontWeight:600,color:"gray.500",letterSpacing:"wide",textTransform:"uppercase",display:"flex",alignItems:"center"},r," \xb7",g(l.a,{ml:1,color:"#234361",fontSize:"xs",fontWeight:400},a&&Intl.DateTimeFormat("en-US").format(Date.parse(a)))),g(d.a,{marginTop:2,variantColor:u.length>0?"green":"red",variant:"solid"},u.length>0?"Processed":"Not Processed"))),g(p.a,{background:"#DDEBF7",borderRadius:3,marginRight:1,px:3,height:8,onClick:S},g(s.a,{fontSize:"sm",fontWeight:700,color:"#1070CA",marginRight:2},"RESHIP"),g(c.a,{size:4,color:"#1070CA",name:"repeat"}))),g(o.a,{display:"flex",flexWrap:"wrap",marginLeft:"-1.5rem",marginTop:"-.3rem",padding:t&&4},g(o.a,b,m.edges.map((function(e){var t=e.node.id.toString().split("/").pop();return g(o.a,{boxShadow:"sm",background:"white",padding:2,marginBottom:15,key:t},g(o.a,{display:"flex",alignItems:"center"},g(o.a,null,g(o.a,{as:"img",src:e.node.image&&e.node.image.originalSrc,borderStyle:"solid",borderWidth:"1px",borderRadius:3,borderColor:"#e8e9ea",width:"130px"})),g(o.a,{marginLeft:4},g(s.a,{size:"sm",fontWeight:600,color:"text"},e.node.name),g(o.a,{display:"flex",alignItems:"center"},g(l.a,{color:"#66788a",fontSize:14,mr:1},t),"-",g(l.a,{color:"#234361",fontSize:"sm",ml:1},"QUANTITY: ",e.node.quantity)))))}))),g(o.a,f,g(o.a,{boxShadow:"sm",background:"white",padding:3,marginBottom:15},g(s.a,{fontSize:"xs",fontWeight:500,color:"gray.500",letterSpacing:"wide",textTransform:"uppercase",mb:2},"Customer"),g(o.a,{display:"block"},g(o.a,{fontSize:"sm",color:"#425A70",fontWeight:500},g(o.a,null,h.name.split(" ")[0]," ",h.name.split(" ").pop()),h.address1," ",h.address2,g("br",null),h.city,", ",h.province," ",h.zip))),u.length>0&&g(o.a,{elevation:1,background:"white",padding:18,marginBottom:15},g(s.a,{size:100,marginBottom:6},"Shipments"),g(o.a,{display:"block"},u.map((function(e){return e.trackingInfo.map((function(e,t){return g(o.a,{key:t,display:"flex",alignItems:"center"},g(c.a,{icon:"box",color:"#47B881",marginRight:10}),g("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},g(l.a,{size:500},e.number)))}))})))))))};t.b=function(e){var t=Object(u.a)(),n=t.isOpen,a=t.onOpen,o=t.onClose;return g(i.a.Fragment,null,g(m.a,{isOpen:n,onClose:o,order:e,shop:e.store}),g(h,Object(r.a)({},e,{onOpen:a})))}},BxfU:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return k}));var r=n("wx14"),a=n("h4VS"),i=n("q1tI"),o=n.n(i),s=n("I+5T"),l=n("YFqc"),d=n.n(l),p=n("XZ7F"),c=n("BMxC"),u=n("qWyU"),m=n("y7Su"),g=n("IDkF"),f=n("dTpq"),b=n("KYQk"),h=n("w0db"),S=n("FpzS"),y=n("yI6m"),x=n("eJLp"),C=n("ttZb"),O=n("/ywb"),A=n("rynZ"),$=n("iWLl"),v=n("7S/q"),I=n("dMZg"),w=o.a.createElement;function z(){var e=Object(a.a)(["\n  query shopOrders(\n    $domain: String!\n    $first: Int\n    $after: String\n    $before: String\n    $last: Int\n    $query: String\n  ) {\n    shopOrders(\n      domain: $domain\n      first: $first\n      after: $after\n      before: $before\n      last: $last\n      query: $query\n    ) {\n      pageInfo\n      edges\n    }\n  }\n"]);return z=function(){return e},e}var j=Object(s.b)(z());function k(e){var t=e.shops,n=Object(i.useState)(t.length&&t[0].domain.split(".")[0]),a=n[0],s=n[1],l=Object(i.useState)(null),z=l[0],k=l[1],T=Object(i.useState)(null),W=T[0],q=T[1],F=Object(i.useState)(""),L=F[0],B=F[1],N=Object(i.useState)(10),R=N[0],_=N[1],D=Object(i.useState)(null),E=D[0],P=D[1],U=Object(i.useState)(null),J=U[0],Z=U[1],Y=Object(i.useState)(null),M=Y[0],Q=Y[1],X=Object(p.a)(),K=X.isOpen,H=X.onOpen,V=X.onClose,G=Object(p.a)(),ee=G.isOpen,te=G.onOpen,ne=G.onClose,re=Object(C.b)(j,{variables:{domain:"".concat(a,".myshopify.com"),after:z,before:W,first:R,last:E,query:L}}),ae=re.data,ie=re.error,oe=re.loading;function se(e){H(),Z(e)}return w(o.a.Fragment,null,w(c.a,{display:"flex",py:4},w(c.a,{flex:1,alignItems:"center",display:"flex"},w(u.a,{fontSize:"2xl",color:"text",fontWeight:500},"Completed Orders"))),M&&w(m.a,{size:"md",isOpen:ee,placement:"right",onClose:ne},w(m.d,null),w(m.c,null,w(g.b,{bg:"#f9f9fb",p:0},w(c.a,null,w(v.a,Object(r.a)({},ae.shopOrders.edges.filter((function(e){return e.node.id.split("/").pop()===M}))[0].node,{store:a,backgroundColor:"white",onOpen:function(){return se(M)}})))))),a?w(c.a,I.a,w(c.a,{display:"block",padding:"1em"},w(c.a,{display:"flex"},w(f.a,{width:"100%",borderColor:"gray.300"},w(b.a,{children:w(h.a,{name:"search",color:"gray.300"})}),w(S.a,{value:L,onChange:function(e){return B(e.target.value)},type:"phone",placeholder:"Search"}))),w(c.a,null,w(O.a,{client:a,shops:t,updateClient:function(e){s(e),k(null),q(null),_(10),P(null)}}))),oe?w(c.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},w(y.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})):ie||!ae.shopOrders?w("div",null,ie):w(o.a.Fragment,null,w(c.a,{width:"100%"},J&&w($.a,{isOpen:K,onClose:V,order:ae.shopOrders.edges.filter((function(e){return e.node.id.split("/").pop()===J}))[0].node,shop:a}),ae.shopOrders.edges.map((function(e,t){return w(c.a,{borderTop:"0.1rem solid #dfe3e8"},w(A.a,{key:t,disabled:!0,client:a,orderName:e.node.name,first_name:e.node.shippingAddress.name.split(" ")[0],last_name:e.node.shippingAddress.name.split(" ").pop(),streetAddress1:e.node.shippingAddress.address1,streetAddress2:e.node.shippingAddress.address2,city:e.node.shippingAddress.city,state:e.node.shippingAddress.province,zip:e.node.shippingAddress.zip,shopName:a,lineItems:e.node.lineItems.edges,createAt:e.node.processedAt,note:e.node.note&&e.node.note,orderId:e.node.id.split("/").pop(),buttons:w(o.a.Fragment,null,w(x.a,{background:"#DDEBF7",borderRadius:3,marginRight:1,px:2,height:5,onClick:function(){return se(e.node.id.split("/").pop())}},w(u.a,{fontSize:"xs",fontWeight:700,color:"#1070CA",marginRight:2},"RESHIP"),w(h.a,{size:3,color:"#1070CA",name:"repeat"})),w(d.a,{href:{pathname:"/completed",query:{order:e.node.name,email:e.node.email,name:e.node.name,processedAt:Intl.DateTimeFormat("en-US").format(Date.parse(e.node.processedAt)),shippingAddress:JSON.stringify(e.node.shippingAddress),totalRecievedSet:e.totalPrice,lineItems:JSON.stringify(e.node.lineItems),client:a,note:e.node.note&&e.node.note,fulfillments:JSON.stringify(e.node.fulfillments)}},as:"/order?store=".concat(a,"&name=").concat(e.node.name)},w(x.a,{onClick:function(){return t=e.node.id.split("/").pop(),te(),void Q(t);var t},bg:"transparent",color:"#66788a","aria-label":"show order",height:"1.3rem",minWidth:"1.3rem",px:0,ml:1},w(h.a,{name:"arrow-forward",size:"18px"}))))}))}))))):w(c.a,{background:"white",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",borderRadius:3},w(u.a,{margin:"1em",size:600},"Your orders will appear here after you add a shop.")))}},XZ7F:function(e,t,n){"use strict";var r=n("q1tI");t.a=function(e){var t=Object(r.useState)(Boolean(e)),n=t[0],a=t[1],i=Object(r.useCallback)((function(){return a(!1)}),[]);return{isOpen:n,onOpen:Object(r.useCallback)((function(){return a(!0)}),[]),onClose:i,onToggle:Object(r.useCallback)((function(){return a((function(e){return!e}))}),[])}}},iWLl:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),i=n("ODXe"),o=n("h4VS"),s=n("q1tI"),l=n.n(s),d=n("I+5T"),p=n("ttZb"),c=n("BMxC"),u=n("sK1y"),m=n("qWyU"),g=n("SQB0"),f=n("IDkF"),b=n("eJLp"),h=n("+Cyc"),S=n("tyzY"),y=n("w0db"),x=l.a.createElement;var C=function(e){var t=e.arg,n=e.handleLine,r=t.quantity,a=Object(s.useState)(t.quantity),i=a[0],o=a[1];return x(c.a,{display:"flex",alignItems:"center",marginBottom:15},x(c.a,{display:"block"},x(c.a,null,x(c.a,{as:"img",src:t.img?t.img:t.image&&t.image.originalSrc,borderStyle:"solid",borderWidth:"1px",borderRadius:3,borderColor:"#e8e9ea",width:"70px"}))),x(c.a,{flex:2,display:"block",marginLeft:2},x(m.a,{fontSize:"sm",color:"text",mb:2,fontWeight:600},t.name),x(h.a,null,x(u.a,{fontSize:".65rem",fontWeight:"600",color:"gray.500"},"QUANTITY"),x(S.c,{size:"sm",value:i,onChange:function(e){n(t.id,e,r),o(e)},min:0,width:"80px"},x(S.d,{focusBorderColor:"blue.500",textAlign:"center",_hover:{borderColor:"blue.500"},height:"25px"}),x(S.e,{width:"25px"},x(S.b,{bg:"#f6f7f9",color:"blue.500",_active:{bg:"blue.500"},_hover:{bg:"blue.500",color:"white"},children:x(y.a,{name:"add",color:"currentColor"}),marginTop:"0px !important",borderTopWidth:"0px !important"})),x(S.e,{left:"0",width:"25px"},x(S.a,{bg:"#f6f7f9",color:"blue.500",_active:{bg:"blue.500"},_hover:{bg:"blue.500",color:"white"},children:x(y.a,{name:"minus",color:"currentColor"}),borderLeft:"0px",borderRight:"1px solid #E2E8F0",marginTop:"0px !important",borderTopWidth:"0px !important"}))))))},O=n("Ad9v"),A=l.a.createElement;function $(){var e=Object(o.a)(["\n  mutation createOrder(\n    $shopName: String!\n    $orderId: Float!\n    $orderName: String!\n    $email: String\n    $first_name: String\n    $last_name: String\n    $streetAddress1: String!\n    $streetAddress2: String\n    $city: String!\n    $state: String!\n    $zip: String!\n    $lineItems: Json!\n    $currency: String!\n    $totalPrice: String!\n    $subTotalPrice: String!\n    $totalDiscount: String!\n    $totalTax: String!\n    $mpCart: String!\n    $zincCart: String!\n    $processed: Processed\n    $createAt: String!\n  ) {\n    createOrder(\n      shopName: $shopName\n      orderId: $orderId\n      orderName: $orderName\n      email: $email\n      first_name: $first_name\n      last_name: $last_name\n      streetAddress1: $streetAddress1\n      streetAddress2: $streetAddress2\n      city: $city\n      state: $state\n      zip: $zip\n      lineItems: $lineItems\n      currency: $currency\n      totalPrice: $totalPrice\n      totalDiscount: $totalDiscount\n      subTotalPrice: $subTotalPrice\n      totalTax: $totalTax\n      mpCart: $mpCart\n      zincCart: $zincCart\n      processed: $processed\n      createAt: $createAt\n    ) {\n      id\n      email\n    }\n  }\n"]);return $=function(){return e},e}var v={flex:"1 1 10rem",marginLeft:"2rem",marginTop:"2rem"},I={fontSize:"xs",fontWeight:500,color:"gray.500",letterSpacing:"wide",textTransform:"uppercase"},w=Object(d.b)($());function z(e,t,n){return A(c.a,{marginBottom:2},A(u.a,{contentEditable:"true",onInput:n,fontWeight:500,fontSize:"md",color:"text"},e),A(m.a,I,t))}t.a=function(e){var t=e.order,n=e.shop,r=e.isOpen,o=e.onClose,d=Object(s.useState)(null),h=d[0],S=d[1],y=Object(s.useState)(null),x=y[0],$=y[1],j=Object(s.useState)(null),k=j[0],T=j[1],W=Object(s.useState)(null),q=W[0],F=W[1],L=Object(s.useState)(null),B=L[0],N=L[1],R=Object(s.useState)(null),_=R[0],D=R[1],E=Object(s.useState)(null),P=E[0],U=E[1],J=Object(s.useState)(null),Z=J[0],Y=J[1],M=[],Q=Object(g.a)(),X=Object(p.a)(w,{refetchQueries:[{query:O.a,variables:{skip:0,first:100,orderBy:"createdAt_ASC",processed:"FALSE"}},{query:O.b}]}),K=Object(i.a)(X,2),H=K[0],V=K[1].loading;Object(s.useEffect)((function(){t&&(S(t.shippingAddress.name.split(" ")[0]),$(t.shippingAddress.name.split(" ").pop()),T(t.shippingAddress.address1),F(t.shippingAddress.address2),N(t.shippingAddress.city),D(t.shippingAddress.province),U(t.shippingAddress.zip),Y(t.lineItems.edges))}),[t]);var G=function(e,t,n){var r=Z;r.map((function(r){if(r.node.id===e){r.node.quantity=t;var a={};a.id=e,a.quantity=n,M.push(a)}return null})),Y(r)};return t?A(f.a,{isOpen:r,onClose:o},A(f.g,null),A(f.d,null,A(f.f,null,"Request Reshipment"),A(f.c,null),A(f.b,null,A(c.a,{display:"flex",flexWrap:"wrap",marginLeft:"-2rem",marginTop:"-2rem"},A(c.a,v,A(c.a,{marginBottom:4},A(u.a,{fontWeight:600,fontSize:"md",color:"text"},t.name),A(m.a,I,"Order Number")),z(t.shippingAddress.name.split(" ")[0],"First Name",(function(e){return S(e.target.textContent)})),z(t.shippingAddress.name.split(" ").pop(),"Last Name",(function(e){return $(e.target.textContent)})),z(t.shippingAddress.address1,"Street Address",(function(e){return T(e.target.textContent)})),t.shippingAddress.address2&&z(t.shippingAddress.address2,"Apt, Suite, etc.",(function(e){return F(e.target.textContent)})),z(t.shippingAddress.city,"City",(function(e){return N(e.target.textContent)})),z(t.shippingAddress.province,"State",(function(e){return D(e.target.textContent)})),z(t.shippingAddress.zip,"Zip Code",(function(e){return U(e.target.textContent)}))),A(c.a,v,t.lineItems.edges.map((function(e){return A(C,{arg:e.node,handleLine:G})}))))),A(f.e,null,A(b.a,{variant:"ghost",mr:3,onClick:o},"Cancel"),A(b.a,{variant:"ghost",variantColor:"blue",bg:"blue.50",_hover:{bg:"blue.100"},isLoading:V,onClick:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(H({variables:{shopName:"".concat(n,".myshopify.com"),orderId:t.id.split("/").pop(),orderName:t.name,email:t.email||"noemail@noemail.com",first_name:h,last_name:x,streetAddress1:k,streetAddress2:q,city:B,state:_,zip:P,phone:t.shippingAddress.phone,lineItems:Z.filter((function(e){return e.node.quantity>0})).map((function(e){return e.node.id=parseFloat(e.node.id.split("/").pop()),e.node})),currency:"USD",totalPrice:t.totalReceivedSet.shopMoney.amount,subTotalPrice:0,totalDiscount:0,totalTax:0,createAt:t.processedAt,mpCart:"{}",zincCart:"{}",processed:"FALSE"}}));case 2:e.sent,o(),Q({position:"top-right",title:"".concat(t.name," has been requested for reshipment."),status:"success",duration:2e3,isClosable:!0});case 5:case"end":return e.stop()}}),null,null,null,Promise)}},"Confirm Reshipment")))):A(l.a.Fragment,null)}}}]);