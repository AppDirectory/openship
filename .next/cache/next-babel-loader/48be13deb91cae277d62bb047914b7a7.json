{"ast":null,"code":"import React, { useState } from 'react';\nimport { Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { CURRENT_USER_QUERY } from './User';\nimport Userform from './Userform';\nconst SIGNUP_MUTATION = gql`\n  mutation SIGNUP_MUTATION(\n    $email: String!\n    $name: String!\n    $password: String!\n  ) {\n    signup(email: $email, name: $name, password: $password) {\n      id\n      email\n      name\n    }\n  }\n`;\n\nfunction Signup({\n  formChange\n}) {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  return React.createElement(Mutation, {\n    mutation: SIGNUP_MUTATION,\n    variables: {\n      name,\n      password,\n      email\n    },\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }]\n  }, (signup, {\n    error,\n    loading\n  }) => React.createElement(Userform, {\n    title: \"Create an account\",\n    handleToggleClick: () => formChange(),\n    buttonTitle: \"Sign Up\",\n    buttonColor: \"#47B881\",\n    error: error,\n    loading: loading,\n    buttonDisabled: !email || !password || !name,\n    fields: [{\n      label: 'Name',\n      value: name,\n      onChange: setName,\n      icon: 'person'\n    }, {\n      label: 'Email',\n      value: email,\n      onChange: setEmail,\n      icon: 'envelope'\n    }, {\n      label: 'Password',\n      value: password,\n      onChange: setPassword,\n      icon: 'lock'\n    }],\n    bottomText: \"Already have an account?\",\n    bottomLinkText: \"Sign In\",\n    onSubmit: async e => {\n      e.preventDefault();\n      await signup();\n      setName('');\n      setEmail('');\n      setPassword('');\n    }\n  }));\n}\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}