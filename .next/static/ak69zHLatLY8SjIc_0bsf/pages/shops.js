(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{l55n:function(n,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shops",function(){return a("oiGh")}])},oiGh:function(n,e,a){"use strict";a.r(e);var t=a("o0o1"),o=a.n(t),r=a("ODXe"),i=a("h4VS"),c=a("q1tI"),s=a.n(c),l=a("lTCR"),u=a.n(l),p=a("ttZb"),f=a("BMxC"),h=a("IDkF"),g=a("dTpq"),d=a("KYQk"),m=a("w0db"),b=a("FpzS"),k=a("qWyU"),S=a("sK1y"),T=a("P5VN"),v=a("eJLp"),O=a("bUi6"),w=s.a.createElement;function y(){var n=Object(i.a)(["\n  mutation createWebhook($domain: String!, $accessToken: String!) {\n    createWebhook(domain: $domain, accessToken: $accessToken) {\n      userErrors\n      webhookSubscription\n    }\n  }\n"]);return y=function(){return n},n}function x(){var n=Object(i.a)(["\n  mutation CREATE_SHOP_MUTATION(\n    $domain: String!\n    $accessToken: String!\n    $name: String!\n  ) {\n    upsertShop(accessToken: $accessToken, domain: $domain, name: $name) {\n      id\n    }\n  }\n"]);return x=function(){return n},n}var j=u()(x()),C=u()(y()),$=function(n){var e=n.shop,a=n.accessToken,t=Object(c.useState)(!1),i=t[0],l=t[1],u=Object(c.useState)(""),y=u[0],x=u[1],$=Object(c.useState)(!1),_=$[0],P=$[1],E=Object(p.a)(j,{variables:{domain:e,accessToken:a,name:y},refetchQueries:[{query:O.a,variables:O.c}]}),z=Object(r.a)(E,1)[0],I=Object(p.a)(C,{variables:{domain:e,accessToken:a}}),W=Object(r.a)(I,1)[0];Object(c.useEffect)((function(){e&&(l(!0),x(e.split(".")[0]))}),[e]);return w(s.a.Fragment,null,w(f.a,null,w(h.a,{isOpen:i,onClose:function(){return l(!1)}},w(h.g,null),w(h.d,null,w(h.f,null,"Add Shop to Openship"),w(h.c,null),w(h.b,null,w(f.a,null,w(g.a,null,w(d.a,{children:w(m.a,{name:"shop",color:"gray.500"})}),w(b.a,{color:"gray.700",variant:"filled",type:"phone",placeholder:"Phone number",value:y,onChange:function(n){return x(n.target.value)}})),w(k.a,{lineHeight:"10px",fontSize:"xs",pr:3,pt:2,marginBottom:4,textTransform:"uppercase",fontWeight:500,color:"gray.500"},"Shop Name"),w(f.a,{display:"flex",alignItems:"center"},w(S.a,{pr:3,paddingTop:2,fontSize:15},e)),w(k.a,{lineHeight:"10px",fontSize:"xs",pr:3,pt:2,marginBottom:4,textTransform:"uppercase",fontWeight:500,color:"gray.500"},"Shopify URL")),w(f.a,{pt:4,display:"flex",alignItems:"center"},w(f.a,{paddingRight:20},w(k.a,{fontSize:"md",fontWeight:500,mb:1,color:"gray.800"},"Push orders to Openship"),w(S.a,{fontSize:"sm",color:"gray.700"},"Orders will be pushed to the pending tab to be fulfilled")),w(T.a,{marginLeft:"auto",checked:_,onChange:function(n){return P(n.target.checked)}}))),w(h.e,null,w(v.a,{variant:"ghost",color:"gray.600",mr:3},"Cancel"),w(v.a,{variant:"ghost",variantColor:"green",bg:"green.50",_hover:{bg:"green.100"},onConfirm:function(){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(z());case 2:if(n.sent,!_){n.next=7;break}return n.next=6,o.a.awrap(W());case 6:n.sent;case 7:l(!1);case 8:case"end":return n.stop()}}),null,null,null,Promise)}},"Confirm"))))),w(O.b,null))};$.getInitialProps=function(n){var e=n.query;return{shop:e.shop,accessToken:e.accessToken}},e.default=$}},[["l55n",0,1,2,3,5,7]]]);