{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Box, Heading, Button, Popover, PopoverContent, PopoverTrigger, Input, Text } from '@chakra-ui/core';\nimport ShopListItem from './ShopListItem';\nexport const ALL_SHOPS_QUERY = gql`\n  query($first: Int!, $skip: Int!) {\n    shops(orderBy: createdAt_DESC, first: $first, skip: $skip) {\n      id\n      domain\n      accessToken\n      createdAt\n      name\n      settings\n    }\n  }\n`;\nexport const shopsQueryVars = {\n  skip: 0,\n  first: 10\n};\nexport default function ShopList() {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(ALL_SHOPS_QUERY, {\n    variables: shopsQueryVars\n  });\n  return __jsx(React.Fragment, null, __jsx(Box, {\n    display: \"flex\",\n    py: 4\n  }, __jsx(Heading, {\n    fontSize: \"2xl\",\n    color: \"text\",\n    fontWeight: 500\n  }, \"Shops\"), __jsx(Box, {\n    ml: \"auto\"\n  }, __jsx(Popover, {\n    placement: \"bottom-end\"\n  }, __jsx(PopoverTrigger, null, __jsx(Button, {\n    background: \"#DDEBF7\",\n    color: \"#1070CA\",\n    borderRadius: 3,\n    marginRight: 1,\n    px: 2,\n    height: 5,\n    textTransform: \"uppercase\",\n    letterSpacing: \"wide\",\n    fontSize: \"xs\",\n    fontWeight: 700\n  }, \"Add Shop\")), __jsx(PopoverContent, {\n    zIndex: 4\n  }, __jsx(Box, {\n    width: \"100%\",\n    display: \"flex\",\n    alignItems: \"left\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    padding: 15\n  }, __jsx(\"form\", {\n    method: \"GET\",\n    action: \"/shopify/auth\",\n    style: {\n      width: '100%'\n    }\n  }, __jsx(Text, {\n    fontSize: \"sm\",\n    color: \"gray.600\",\n    mb: 1,\n    fontWeight: 500\n  }, \"Shop Name\"), __jsx(Input, {\n    label: \"Shop Name\",\n    mb: 2\n  }), __jsx(Text, {\n    fontSize: \"sm\",\n    color: \"gray.600\",\n    mb: 1,\n    fontWeight: 500\n  }, \"Shop URL\"), __jsx(Input, {\n    label: \"Shop URL\",\n    mb: 1,\n    id: \"shop\",\n    name: \"shop\"\n  }), __jsx(Text, {\n    fontSize: \"xs\",\n    color: \"gray.500\",\n    mb: 1\n  }, \"Must end in .myshopify.com\"), __jsx(Button, {\n    variantColor: \"green\",\n    variant: \"ghost\",\n    backgroundColor: \"green.50\",\n    borderRadius: 3,\n    marginRight: 1,\n    px: 3,\n    height: 8,\n    width: \"100%\"\n  }, __jsx(Heading, {\n    fontSize: \"sm\",\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    letterSpacing: \"wide\"\n  }, \"Add Shop\")))))))), (() => {\n    if (loading) return __jsx(\"p\", null, \"Loading...\");\n    if (error || !data.shops) return __jsx(\"h1\", null, \"Error loading shops: \", error);\n    return __jsx(Box, {\n      display: \"flex\",\n      width: \"calc(100% + 20px)\",\n      flexWrap: \"wrap\",\n      marginX: \"-10px\"\n    }, data.shops.map(shop => __jsx(Box, {\n      flex: 1,\n      padding: 3,\n      key: shop.id\n    }, __jsx(ShopListItem, {\n      shop: shop\n    }))));\n  })());\n}","map":null,"metadata":{},"sourceType":"module"}