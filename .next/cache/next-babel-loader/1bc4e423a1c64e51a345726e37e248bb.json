{"ast":null,"code":"import _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport React from \"react\";\nimport { useState } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { Pane, TextInput, Heading, Text, Spinner, Badge } from 'evergreen-ui';\nimport Button from '../../common/Button';\n\nfunction getTracking(url, input, setResult, setLoading) {\n  setLoading(true);\n  setResult('');\n  fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: _JSON$stringify({\n      query: \"\\n{\\n  orders(\\n    first: 1\\n    query: \\\"\".concat(input, \"\\\"\\n  ) {\\n    edges {\\n      node {\\n        fulfillments(first: 25) {\\n          trackingInfo {\\n            company\\n            number\\n            url\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n    \")\n    })\n  }).then(function (res) {\n    return res.json();\n  }).then(function (res) {\n    if (res.data.orders.edges.length) {\n      setResult(res.data.orders.edges[0].node.fulfillments[0].trackingInfo[0]);\n    } else {\n      setResult({\n        error: \"No orders found matching \".concat(input)\n      });\n    }\n\n    setLoading(false);\n  });\n}\n\nvar Tracking = function Tracking(_ref) {\n  var url = _ref.url;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      input = _useState4[0],\n      setInput = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  return React.createElement(Pane, {\n    elevation: 1,\n    borderRadius: \"5px\",\n    padding: 15,\n    background: \"#fff\"\n  }, React.createElement(Heading, {\n    size: 400,\n    marginBottom: 10\n  }, \"Fetch Tracking\"), React.createElement(Pane, {\n    display: \"flex\",\n    marginBottom: 15\n  }, React.createElement(TextInput, {\n    onChange: function onChange(e) {\n      return setInput(e.target.value);\n    },\n    value: input,\n    height: 24,\n    className: \"clean-input\",\n    backgroundColor: \"#F5F6F7 !important\",\n    placeholder: \"e.g. order number, customer email, name, address, etc.\"\n  }), React.createElement(Button, {\n    intent: \"success\",\n    height: 24,\n    fontSize: \"13px\",\n    marginLeft: 10,\n    onClick: function onClick() {\n      return getTracking(url, input, setResult, setLoading);\n    }\n  }, \"Get Tracking\")), loading && React.createElement(Spinner, {\n    size: 24\n  }), result && React.createElement(Pane, {\n    display: \"flex\",\n    alignItems: \"center\"\n  }, result.company && React.createElement(Badge, {\n    color: \"blue\",\n    marginRight: 8\n  }, result.company), React.createElement(\"a\", {\n    href: result.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, React.createElement(Text, null, result.number)), result.error && React.createElement(Badge, {\n    color: \"red\",\n    marginRight: 8\n  }, result.error)));\n};\n\nexport default Tracking;","map":null,"metadata":{},"sourceType":"module"}