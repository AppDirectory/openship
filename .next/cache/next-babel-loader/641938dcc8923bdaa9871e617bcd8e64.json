{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nexport default (async (req, res) => {\n  console.log('hello'); //   res.status(200).json([\n  //     {\n  //       id: '1',\n  //       name: 'hello',\n  //       height: '172',\n  //       mass: '77',\n  //       hair_color: 'blond',\n  //       skin_color: 'fair',\n  //       eye_color: 'blue',\n  //       gender: 'male',\n  //     },\n  //   ]);\n\n  async function _request(method, path, auth) {\n    const reqOptions = {\n      method,\n      headers: {\n        Authorization: auth,\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    }; // if (!_.isUndefined(data) && !_.isEmpty(data)) {\n    //   data = JSON.stringify(data);\n    //   reqOptions.body = data;\n    // }\n\n    const response = await fetch(path, reqOptions);\n    const people = await response.json();\n    res.status(200).json(people); // return fetch(path, reqOptions)\n    //   .then(res => res.json())\n    //   .then(json => json)\n    //   .catch(err => {\n    //     console.log(err);\n    //     return { error: `error with fetch request!: ${err}` };\n    //   });\n  } //   await _request(\n  //     'POST',\n  //     `https://api.zinc.io/v1/orders`,\n  //     JSON.parse(req.body),\n  //     `Basic ${Buffer.from(`${req.query.token}:`).toString('base64')}`\n  //   );\n\n\n  try {\n    await _request('POST', `https://api.zinc.io/v1/orders`, //   JSON.parse(req.body),\n    `Basic ${Buffer.from(`${req.query.token}:`).toString('base64')}`);\n  } catch (e) {\n    console.error(`Error getResults:${e}`);\n  }\n});","map":{"version":3,"sources":["/Users/junaid/openship/pages/api/zinc/purchase.js"],"names":["fetch","req","res","console","log","_request","method","path","auth","reqOptions","headers","Authorization","Accept","response","people","json","status","Buffer","from","query","token","toString","e","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EADiC,CAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAeC,QAAf,CAAwBC,MAAxB,EAAgCC,IAAhC,EAAsCC,IAAtC,EAA4C;AAC1C,UAAMC,UAAU,GAAG;AACjBH,MAAAA,MADiB;AAEjBI,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEH,IADR;AAEPI,QAAAA,MAAM,EAAE,kBAFD;AAGP,wBAAgB;AAHT;AAFQ,KAAnB,CAD0C,CAU1C;AACA;AACA;AACA;;AAEA,UAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACO,IAAD,EAAOE,UAAP,CAA5B;AACA,UAAMK,MAAM,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAArB;AAEAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBD,IAAhB,CAAqBD,MAArB,EAlB0C,CAmB1C;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAzCgC,CA2CjC;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAI;AACF,UAAMT,QAAQ,CACZ,MADY,EAEX,+BAFW,EAGZ;AACC,aAAQY,MAAM,CAACC,IAAP,CAAa,GAAEjB,GAAG,CAACkB,KAAJ,CAAUC,KAAM,GAA/B,EAAmCC,QAAnC,CAA4C,QAA5C,CAAsD,EAJnD,CAAd;AAMD,GAPD,CAOE,OAAOC,CAAP,EAAU;AACVnB,IAAAA,OAAO,CAACoB,KAAR,CAAe,oBAAmBD,CAAE,EAApC;AACD;AACF,CA5DD","sourcesContent":["import fetch from 'isomorphic-unfetch';\n\nexport default async (req, res) => {\n  console.log('hello');\n  //   res.status(200).json([\n  //     {\n  //       id: '1',\n  //       name: 'hello',\n  //       height: '172',\n  //       mass: '77',\n  //       hair_color: 'blond',\n  //       skin_color: 'fair',\n  //       eye_color: 'blue',\n  //       gender: 'male',\n  //     },\n  //   ]);\n\n  async function _request(method, path, auth) {\n    const reqOptions = {\n      method,\n      headers: {\n        Authorization: auth,\n        Accept: 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n    };\n\n    // if (!_.isUndefined(data) && !_.isEmpty(data)) {\n    //   data = JSON.stringify(data);\n    //   reqOptions.body = data;\n    // }\n\n    const response = await fetch(path, reqOptions);\n    const people = await response.json();\n\n    res.status(200).json(people);\n    // return fetch(path, reqOptions)\n    //   .then(res => res.json())\n    //   .then(json => json)\n    //   .catch(err => {\n    //     console.log(err);\n    //     return { error: `error with fetch request!: ${err}` };\n    //   });\n  }\n\n  //   await _request(\n  //     'POST',\n  //     `https://api.zinc.io/v1/orders`,\n  //     JSON.parse(req.body),\n  //     `Basic ${Buffer.from(`${req.query.token}:`).toString('base64')}`\n  //   );\n\n  try {\n    await _request(\n      'POST',\n      `https://api.zinc.io/v1/orders`,\n      //   JSON.parse(req.body),\n      `Basic ${Buffer.from(`${req.query.token}:`).toString('base64')}`\n    );\n  } catch (e) {\n    console.error(`Error getResults:${e}`);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}