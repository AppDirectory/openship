{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Xyu5:function(e,n,t){\"use strict\";t.r(n);var r=t(\"q1tI\"),a=t.n(r),o=t(\"Ar1z\"),c=t(\"rt45\"),s=t(\"4KRT\"),i=t(\"lTCR\"),u=t.n(i),l=t(\"eqHG\"),d=t(\"obyI\"),m=t(\"0iUn\"),f=t(\"sLSF\"),p=t(\"MI3g\"),h=t(\"a7VT\"),g=t(\"AT/M\"),b=t(\"Tit0\"),E=t(\"vYYK\"),w=function(e){function n(){var e;return Object(m.default)(this,n),e=Object(p.default)(this,Object(h.default)(n).call(this)),Object(E.a)(Object(g.default)(e),\"componentWillReceiveProps\",function(n){e.URL.current.contentWindow.m.handleChangeEndpoint(\"\".concat(d.b,\"/\").concat(n.accessToken,\"/graphql\"))}),e.state={renderElements:!0},e.URL=a.a.createRef(),e}return Object(b.default)(n,e),Object(f.default)(n,[{key:\"render\",value:function(){var e=this,n=this.props,t=n.shop,r=n.url;n.accessToken;return this.state.renderElements&&a.a.createElement(\"iframe\",{src:\"\".concat(d.b,\"/playgrounds\"),title:\"\".concat(t,\" playground\"),width:\"100%\",height:\"1000px\",id:\"myId\",className:\"\\ud83d\\udce6b-btm-wdt_0 \\ud83d\\udce6b-lft-wdt_0 \\ud83d\\udce6b-rgt-wdt_0 \\ud83d\\udce6b-top-wdt_0\",ref:this.URL,onLoad:function(){return e.URL.current.contentWindow.m.handleChangeEndpoint(r)}})}}]),n}(a.a.Component),y=t(\"doui\"),v=t(\"9Jkg\"),T=t.n(v),j=t(\"zgjP\"),k=t.n(j),O=t(\"IZhw\"),R=t(\"uu8G\"),q=t(\"8DS0\"),x=t(\"raqX\"),L=t(\"4qaV\");var S=function(e){var n=e.url,t=Object(r.useState)(\"\"),c=Object(y.default)(t,2),s=c[0],i=c[1],u=Object(r.useState)(\"\"),d=Object(y.default)(u,2),m=d[0],f=d[1],p=Object(r.useState)(!1),h=Object(y.default)(p,2),g=h[0],b=h[1];return a.a.createElement(o.a,{elevation:1,borderRadius:\"5px\",padding:15,background:\"#fff\"},a.a.createElement(l.a,{size:400,marginBottom:10},\"Fetch Tracking\"),a.a.createElement(o.a,{display:\"flex\",marginBottom:15},a.a.createElement(O.a,{onChange:function(e){return f(e.target.value)},value:m,height:24,className:\"clean-input\",backgroundColor:\"#F5F6F7 !important\",placeholder:\"e.g. order number, customer email, name, address, etc.\"}),a.a.createElement(L.a,{intent:\"success\",height:24,fontSize:\"13px\",marginLeft:10,onClick:function(){return function(e,n,t,r){r(!0),t(\"\"),k()(e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:T()({query:'\\n{\\n  orders(\\n    first: 1\\n    query: \"'.concat(n,'\"\\n  ) {\\n    edges {\\n      node {\\n        fulfillments(first: 25) {\\n          trackingInfo {\\n            company\\n            number\\n            url\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n    ')})}).then(function(e){return e.json()}).then(function(e){e.data.orders.edges.length?t(e.data.orders.edges[0].node.fulfillments[0].trackingInfo[0]):t({error:\"No orders found matching \".concat(n)}),r(!1)})}(n,m,i,b)}},\"Get Tracking\")),g&&a.a.createElement(R.a,{size:24}),s&&a.a.createElement(o.a,{display:\"flex\",alignItems:\"center\"},s.company&&a.a.createElement(q.a,{color:\"blue\",marginRight:8},s.company),a.a.createElement(\"a\",{href:s.url,target:\"_blank\",rel:\"noopener noreferrer\"},a.a.createElement(x.a,null,s.number)),s.error&&a.a.createElement(q.a,{color:\"red\",marginRight:8},s.error)))};function C(){var e=Object(c.a)([\"\\n  query($domain: String!) {\\n    shop(domain: $domain) {\\n      name\\n      accessToken\\n      settings\\n      user {\\n        id\\n      }\\n    }\\n  }\\n\"]);return C=function(){return e},e}var P=u()(C());function _(e){var n=e.shop;return a.a.createElement(s.Query,{query:P,variables:{domain:n}},function(e){var t=e.data,r=e.error;if(e.loading)return a.a.createElement(\"p\",null,\"Loading...\");if(!t)return a.a.createElement(\"h1\",null,\"This shop is not added to your account.\");if(r||!t.shop)return a.a.createElement(\"h1\",null,\"Error loading shops: \",r);var c=t.shop,s=c.name,i=c.accessToken;return a.a.createElement(o.a,{width:\"100%\",marginBottom:\"-2em\",borderWidth:\"0\"},a.a.createElement(o.a,{paddingY:16,paddingX:\"2rem\"},a.a.createElement(o.a,{alignItems:\"center\",display:\"flex\",marginBottom:15},a.a.createElement(l.a,{size:700},s)),a.a.createElement(l.a,{size:500,marginBottom:15},\"Apps\"),a.a.createElement(o.a,{display:\"flex\"},a.a.createElement(S,{url:\"\".concat(d.b,\"/\").concat(i,\"/graphql\")})),a.a.createElement(l.a,{size:500,marginTop:25},\"Playground\")),a.a.createElement(w,{accessToken:i,shop:n,url:\"\".concat(d.b,\"/\").concat(i,\"/graphql\")}))})}n.default=function(e){var n=e.query;return a.a.createElement(o.a,{marginX:\"-2em\",height:\"100%\"},a.a.createElement(_,{shop:n.shop}))}},\"m/Gl\":function(e,n,t){\"use strict\";t.r(n),n.default=function(e,n){return n=n||{},new Promise(function(t,r){var a=new XMLHttpRequest,o=[],c=[],s={},i=function(){return{ok:2==(a.status/100|0),statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(JSON.parse(a.responseText))},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:i,headers:{keys:function(){return o},entries:function(){return c},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var u in a.open(n.method||\"get\",e,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),c.push([n,t]),s[n]=s[n]?s[n]+\",\"+t:t}),t(i())},a.onerror=r,a.withCredentials=\"include\"==n.credentials,n.headers)a.setRequestHeader(u,n.headers[u]);a.send(n.body||null)})}},o96S:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/shop\",function(){var e=t(\"Xyu5\");return{page:e.default||e}}])},zgjP:function(e,n,t){e.exports=window.fetch||(window.fetch=t(\"m/Gl\").default||t(\"m/Gl\"))}},[[\"o96S\",1,0]]]);"}