{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport { Box, Button, Badge, Spinner, Heading, Text, InputRightElement, InputGroup, Input } from '@chakra-ui/core';\n\nfunction getTracking(url, input, setResult, setLoading) {\n  setLoading(true);\n  setResult('');\n  fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      query: `\n{\n  orders(\n    first: 1\n    query: \"${input}\"\n  ) {\n    edges {\n      node {\n        fulfillments(first: 25) {\n          trackingInfo {\n            company\n            number\n            url\n          }\n        }\n      }\n    }\n  }\n}\n    `\n    })\n  }).then(res => res.json()).then(res => {\n    if (res.data.orders.edges.length && res.data.orders.edges[0].node.fulfillments.length && res.data.orders.edges[0].node.fulfillments[0].trackingInfo.length) {\n      setResult(res.data.orders.edges[0].node.fulfillments[0].trackingInfo[0]);\n    } else {\n      setResult({\n        error: `No orders found matching ${input}`\n      });\n    }\n\n    setLoading(false);\n  });\n}\n\nconst Tracking = ({\n  url\n}) => {\n  const {\n    0: result,\n    1: setResult\n  } = useState('');\n  const {\n    0: input,\n    1: setInput\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  return __jsx(Box, {\n    minWidth: \"500px\",\n    boxShadow: \"sm\",\n    borderRadius: \"5px\",\n    padding: 4,\n    background: \"#fff\"\n  }, __jsx(Heading, {\n    fontSize: \"sm\",\n    color: \"text\",\n    marginBottom: 3\n  }, \"Fetch Tracking\"), __jsx(Box, {\n    display: \"flex\",\n    marginBottom: 4\n  }, __jsx(InputGroup, {\n    size: \"sm\",\n    width: \"100%\"\n  }, __jsx(Input, {\n    variant: \"filled\",\n    onChange: e => setInput(e.target.value),\n    value: input,\n    placeholder: \"e.g. order number, customer email, name, address, etc.\"\n  }), __jsx(InputRightElement, {\n    width: \"3rem\"\n  }, __jsx(Button, {\n    onClick: () => getTracking(url, input, setResult, setLoading),\n    h: \"1.35rem\",\n    size: \"xs\",\n    variantColor: \"green\"\n  }, \"GO\")))), loading && __jsx(Spinner, {\n    color: \"blue.500\"\n  }), result && __jsx(Box, {\n    display: \"flex\",\n    alignItems: \"center\"\n  }, result.company && __jsx(Badge, {\n    variantColor: \"blue\",\n    marginRight: 2\n  }, result.company), __jsx(\"a\", {\n    href: result.url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, __jsx(Text, null, result.number)), result.error && __jsx(Badge, {\n    variantColor: \"red\",\n    marginRight: 8\n  }, result.error)));\n};\n\nexport default Tracking;","map":null,"metadata":{},"sourceType":"module"}