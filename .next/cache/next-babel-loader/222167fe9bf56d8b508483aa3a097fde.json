{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Box, Button, Heading, Text, Icon, PseudoBox, NumberInput, NumberInputField, NumberInputStepper, NumberIncrementStepper, NumberDecrementStepper } from '@chakra-ui/core';\nimport PropTypes from 'prop-types';\nimport VariantSelector from './VariantSelector';\n\nvar MktProduct = /*#__PURE__*/function (_Component) {\n  _inherits(MktProduct, _Component);\n\n  function MktProduct(props) {\n    var _this;\n\n    _classCallCheck(this, MktProduct);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MktProduct).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOptionChange\", function (event) {\n      var product = _this.props.product;\n      var target = event.target;\n      var selectedOptions = _this.state.selectedOptions;\n      selectedOptions[target.name] = target.value;\n      var selectedVariant = product.variants.edges.find(function (variant) {\n        return variant.node.selectedOptions.every(function (selectedOption) {\n          return selectedOptions[selectedOption.name] === selectedOption.value;\n        });\n      }).node;\n\n      _this.setState({\n        selectedVariant: selectedVariant,\n        selectedVariantImage: selectedVariant.image.src\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleQuantityChange\", function (event) {\n      _this.setState({\n        selectedVariantQuantity: event\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleQuantityDown\", function () {\n      _this.setState(function (prevState) {\n        return {\n          selectedVariantQuantity: prevState.selectedVariantQuantity - 1 || 1\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleQuantityUp\", function () {\n      _this.setState(function (prevState) {\n        return {\n          selectedVariantQuantity: prevState.selectedVariantQuantity + 1\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"findImage\", function (images, variantId) {\n      var primary = images[0];\n      var image = images.filter(function (a) {\n        return a.variant_ids.includes(variantId);\n      })[0];\n      return (image || primary).src;\n    });\n\n    _this.state = {\n      selectedOptions: {},\n      selectedVariantQuantity: 1\n    };\n    return _this;\n  }\n\n  _createClass(MktProduct, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var product = this.props.product;\n      product.options.forEach(function (selector) {\n        _this2.setState(function (prevState) {\n          return {\n            selectedOptions: _objectSpread({}, prevState.selectedOptions, _defineProperty({}, selector.name, selector.values[0]))\n          };\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          product = _this$props.product,\n          addVariantToCart = _this$props.addVariantToCart,\n          atcDisabled = _this$props.atcDisabled;\n      var _this$state = this.state,\n          selectedVariantImage = _this$state.selectedVariantImage,\n          selectedVariantQuantity = _this$state.selectedVariantQuantity,\n          selectedVariant = _this$state.selectedVariant;\n      var variantImage = selectedVariantImage || product.images.edges[0].node.src;\n      var variant = selectedVariant || product.variants.edges[0].node;\n      var variantQuantity = selectedVariantQuantity || 1;\n      var variantSelectors = product.options.map(function (option) {\n        return __jsx(VariantSelector, {\n          handleOptionChange: _this3.handleOptionChange,\n          key: option.id.toString(),\n          option: option\n        });\n      });\n      return __jsx(React.Fragment, null, __jsx(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        borderTop: \"0.1rem solid #dfe3e8\"\n      }, __jsx(Box, {\n        padding: 4\n      }, product.images.edges.length && __jsx(Box, {\n        background: \"white\",\n        border: \"1px solid #e8e9ea\",\n        borderRadius: 3,\n        height: \"90px\",\n        width: \"90px\"\n      }, __jsx(Box, {\n        as: \"img\",\n        src: variantImage,\n        alt: \"\".concat(product.title, \" product shot\")\n      }))), __jsx(Box, {\n        padding: 4,\n        paddingLeft: 0,\n        marginTop: 1,\n        marginBottom: \"auto\"\n      }, __jsx(Heading, {\n        fontSize: \"md\",\n        color: \"text\",\n        fontWeight: 500\n      }, product.title), __jsx(Heading, {\n        size: 400,\n        marginRight: 10,\n        color: \"green.600\"\n      }, \"$\", variant.price), __jsx(Box, {\n        display: \"flex\",\n        marginTop: 1,\n        marginBottom: 7\n      }, variantSelectors), !atcDisabled && __jsx(Box, {\n        display: \"flex\"\n      }, __jsx(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        paddingRight: 5\n      }, __jsx(PseudoBox, null, __jsx(Text, {\n        fontSize: \".65rem\",\n        fontWeight: \"600\",\n        color: \"gray.500\"\n      }, \"QUANTITY\"), __jsx(NumberInput, {\n        size: \"sm\",\n        value: selectedVariantQuantity,\n        onChange: this.handleQuantityChange,\n        min: 1,\n        width: \"80px\"\n      }, __jsx(NumberInputField, {\n        focusBorderColor: \"blue.500\",\n        textAlign: \"center\",\n        _hover: {\n          borderColor: 'blue.500'\n        },\n        height: \"25px\"\n      }), __jsx(NumberInputStepper, {\n        width: \"25px\"\n      }, __jsx(NumberIncrementStepper, {\n        bg: \"#f6f7f9\",\n        color: \"blue.500\",\n        _active: {\n          bg: 'blue.500'\n        },\n        _hover: {\n          bg: 'blue.500',\n          color: 'white'\n        },\n        children: __jsx(Icon, {\n          name: \"add\",\n          color: \"currentColor\"\n        }),\n        marginTop: \"0px !important\",\n        borderTopWidth: \"0px !important\"\n      })), __jsx(NumberInputStepper, {\n        left: \"0\",\n        width: \"25px\"\n      }, __jsx(NumberDecrementStepper, {\n        bg: \"#f6f7f9\",\n        color: \"blue.500\",\n        _active: {\n          bg: 'blue.500'\n        },\n        _hover: {\n          bg: 'blue.500',\n          color: 'white'\n        },\n        children: __jsx(Icon, {\n          name: \"minus\",\n          color: \"currentColor\"\n        }),\n        borderLeft: \"0px\",\n        borderRight: \"1px solid #E2E8F0\",\n        marginTop: \"0px !important\",\n        borderTopWidth: \"0px !important\"\n      })))), __jsx(Button, {\n        background: \"#DDEBF7\",\n        borderRadius: 3,\n        marginRight: 1,\n        px: 2,\n        mx: 3,\n        mt: \"auto\",\n        height: 6,\n        onClick: function onClick() {\n          return addVariantToCart(variant.id, selectedVariantQuantity);\n        },\n        disabled: atcDisabled\n      }, __jsx(Heading, {\n        letterSpacing: \"wide\",\n        fontSize: \"sm\",\n        fontWeight: 700,\n        color: \"#1070CA\"\n      }, \"ADD TO CART\")))))));\n    }\n  }]);\n\n  return MktProduct;\n}(Component);\n\n_defineProperty(MktProduct, \"propTypes\", {\n  product: PropTypes.object,\n  addVariantToCart: PropTypes.func,\n  atcDisabled: PropTypes.bool\n});\n\nexport default MktProduct;","map":{"version":3,"sources":["/Users/junaid/openship/components/find/MarketplaceSearch/MktProduct.js"],"names":["React","Component","Box","Button","Heading","Text","Icon","PseudoBox","NumberInput","NumberInputField","NumberInputStepper","NumberIncrementStepper","NumberDecrementStepper","PropTypes","VariantSelector","MktProduct","props","event","product","target","selectedOptions","state","name","value","selectedVariant","variants","edges","find","variant","node","every","selectedOption","setState","selectedVariantImage","image","src","selectedVariantQuantity","prevState","images","variantId","primary","filter","a","variant_ids","includes","options","forEach","selector","values","addVariantToCart","atcDisabled","variantImage","variantQuantity","variantSelectors","map","option","handleOptionChange","id","toString","length","title","price","handleQuantityChange","borderColor","bg","color","object","func","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Box,\n  Button,\n  Heading,\n  Text,\n  Icon,\n  PseudoBox,\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from '@chakra-ui/core';\nimport PropTypes from 'prop-types';\nimport VariantSelector from './VariantSelector';\n\nclass MktProduct extends Component {\n  static propTypes = {\n    product: PropTypes.object,\n    addVariantToCart: PropTypes.func,\n    atcDisabled: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedOptions: {},\n      selectedVariantQuantity: 1,\n    };\n  }\n\n  componentWillMount() {\n    const { product } = this.props;\n    product.options.forEach(selector => {\n      this.setState(prevState => ({\n        selectedOptions: {\n          ...prevState.selectedOptions,\n          [selector.name]: selector.values[0],\n        },\n      }));\n    });\n  }\n\n  handleOptionChange = event => {\n    const { product } = this.props;\n    const { target } = event;\n    const { selectedOptions } = this.state;\n    selectedOptions[target.name] = target.value;\n\n    const selectedVariant = product.variants.edges.find(variant =>\n      variant.node.selectedOptions.every(\n        selectedOption =>\n          selectedOptions[selectedOption.name] === selectedOption.value\n      )\n    ).node;\n\n    this.setState({\n      selectedVariant,\n      selectedVariantImage: selectedVariant.image.src,\n    });\n  };\n\n  handleQuantityChange = event => {\n    this.setState({\n      selectedVariantQuantity: event,\n    });\n  };\n\n  handleQuantityDown = () => {\n    this.setState(prevState => ({\n      selectedVariantQuantity: prevState.selectedVariantQuantity - 1 || 1,\n    }));\n  };\n\n  handleQuantityUp = () => {\n    this.setState(prevState => ({\n      selectedVariantQuantity: prevState.selectedVariantQuantity + 1,\n    }));\n  };\n\n  findImage = (images, variantId) => {\n    const primary = images[0];\n\n    const image = images.filter(function(a) {\n      return a.variant_ids.includes(variantId);\n    })[0];\n\n    return (image || primary).src;\n  };\n\n  render() {\n    const { product, addVariantToCart, atcDisabled } = this.props;\n    const {\n      selectedVariantImage,\n      selectedVariantQuantity,\n      selectedVariant,\n    } = this.state;\n    const variantImage =\n      selectedVariantImage || product.images.edges[0].node.src;\n    const variant = selectedVariant || product.variants.edges[0].node;\n    const variantQuantity = selectedVariantQuantity || 1;\n    const variantSelectors = product.options.map(option => (\n      <VariantSelector\n        handleOptionChange={this.handleOptionChange}\n        key={option.id.toString()}\n        option={option}\n      />\n    ));\n    return (\n      <>\n        <Box\n          display=\"flex\"\n          alignItems=\"center\"\n          borderTop=\"0.1rem solid #dfe3e8\"\n        >\n          <Box padding={4}>\n            {product.images.edges.length && (\n              <Box\n                background=\"white\"\n                border=\"1px solid #e8e9ea\"\n                borderRadius={3}\n                height=\"90px\"\n                width=\"90px\"\n              >\n                <Box\n                  as=\"img\"\n                  src={variantImage}\n                  alt={`${product.title} product shot`}\n                />\n              </Box>\n            )}\n          </Box>\n          <Box padding={4} paddingLeft={0} marginTop={1} marginBottom=\"auto\">\n            <Heading fontSize=\"md\" color=\"text\" fontWeight={500}>\n              {product.title}\n            </Heading>\n            <Heading size={400} marginRight={10} color=\"green.600\">\n              ${variant.price}\n            </Heading>\n            <Box display=\"flex\" marginTop={1} marginBottom={7}>\n              {variantSelectors}\n            </Box>\n            {!atcDisabled && (\n              <Box display=\"flex\">\n                <Box\n                  display=\"flex\"\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  paddingRight={5}\n                >\n                  <PseudoBox>\n                    <Text fontSize=\".65rem\" fontWeight=\"600\" color=\"gray.500\">\n                      QUANTITY\n                    </Text>\n                    <NumberInput\n                      size=\"sm\"\n                      value={selectedVariantQuantity}\n                      onChange={this.handleQuantityChange}\n                      min={1}\n                      width=\"80px\"\n                    >\n                      <NumberInputField\n                        focusBorderColor=\"blue.500\"\n                        textAlign=\"center\"\n                        _hover={{ borderColor: 'blue.500' }}\n                        height=\"25px\"\n                      />\n                      <NumberInputStepper width=\"25px\">\n                        <NumberIncrementStepper\n                          bg=\"#f6f7f9\"\n                          color=\"blue.500\"\n                          _active={{ bg: 'blue.500' }}\n                          _hover={{ bg: 'blue.500', color: 'white' }}\n                          children={<Icon name=\"add\" color=\"currentColor\" />}\n                          marginTop=\"0px !important\"\n                          borderTopWidth=\"0px !important\"\n                        />\n                      </NumberInputStepper>\n                      <NumberInputStepper left=\"0\" width=\"25px\">\n                        <NumberDecrementStepper\n                          bg=\"#f6f7f9\"\n                          color=\"blue.500\"\n                          _active={{ bg: 'blue.500' }}\n                          _hover={{ bg: 'blue.500', color: 'white' }}\n                          children={<Icon name=\"minus\" color=\"currentColor\" />}\n                          borderLeft=\"0px\"\n                          borderRight=\"1px solid #E2E8F0\"\n                          marginTop=\"0px !important\"\n                          borderTopWidth=\"0px !important\"\n                        />\n                      </NumberInputStepper>\n                    </NumberInput>\n                  </PseudoBox>\n                  <Button\n                    background=\"#DDEBF7\"\n                    borderRadius={3}\n                    marginRight={1}\n                    px={2}\n                    mx={3}\n                    mt=\"auto\"\n                    height={6}\n                    onClick={() =>\n                      addVariantToCart(variant.id, selectedVariantQuantity)\n                    }\n                    disabled={atcDisabled}\n                  >\n                    <Heading\n                      letterSpacing=\"wide\"\n                      fontSize=\"sm\"\n                      fontWeight={700}\n                      color=\"#1070CA\"\n                    >\n                      ADD TO CART\n                    </Heading>\n                  </Button>\n                </Box>\n              </Box>\n            )}\n          </Box>\n        </Box>\n      </>\n    );\n  }\n}\n\nexport default MktProduct;\n"]},"metadata":{},"sourceType":"module"}