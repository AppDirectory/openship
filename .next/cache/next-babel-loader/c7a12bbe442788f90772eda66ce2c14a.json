{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Query } from \"react-apollo\";\nimport { Pane, Heading, Spinner } from \"evergreen-ui\";\nimport { gql } from \"apollo-boost\";\nimport AmzProduct from \"./AmzProduct\";\nimport { front, prodFront } from \"../../../config\";\n\nfunction ZincSearch(_ref) {\n  var _addZincItem = _ref.addZincItem,\n      atcDisabled = _ref.atcDisabled,\n      searchEntry = _ref.searchEntry,\n      token = _ref.token;\n\n  var _useState = useState([]),\n      results = _useState[0],\n      setResults = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  function findItems() {\n    var res;\n    return _regeneratorRuntime.async(function findItems$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"\".concat(false ? front : prodFront, \"/api/zinc/search?query=\").concat(searchEntry, \"&token=\").concat(token)).then(function (res) {\n              return res.json();\n            }).then(function (json) {\n              return setResults(json);\n            })[\"catch\"](function (error) {\n              return setError(\"Error: \", error);\n            }));\n\n          case 2:\n            res = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  }\n\n  useEffect(function () {\n    searchEntry && findItems();\n  }, [searchEntry]);\n  return results.map(function (product) {\n    return __jsx(React.Fragment, null, __jsx(\"div\", null, error), __jsx(AmzProduct, {\n      product: product,\n      addVariantToCart: function addVariantToCart(a) {\n        return toaster.success(a);\n      },\n      atcDisabled: atcDisabled,\n      addZincItem: function addZincItem(a, b, c, d, e) {\n        return _addZincItem(a, b, c, d, e);\n      }\n    }));\n  });\n}\n\nexport default ZincSearch;","map":null,"metadata":{},"sourceType":"module"}