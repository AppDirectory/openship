{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { Box, Heading, Text, Button, Icon } from '@chakra-ui/core';\nimport PropTypes from 'prop-types';\nimport MPCart from '../../pending/Cart/MPCart';\nimport ZincCart from '../../pending/Cart/ZincCart';\nimport OrderLine from './OrderLine';\n\nvar priceString = function priceString(price, quantity) {\n  var total = Math.round(price * quantity * 100).toString();\n  return \"\".concat(total.substring(0, total.length - 2), \".\").concat(total.substring(total.length - 2));\n};\n\nexport default function OrderListItem(props) {\n  var _useState = useState(),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  useEffect(function () {\n    setOpen(props.open);\n  }, [props.open]);\n\n  function onCheckAllChange(e, updateIndexFunc) {\n    return _regeneratorRuntime.async(function onCheckAllChange$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            updateIndexFunc(e ? props.index : null);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function handleToggleClick(e) {\n    e.stopPropagation();\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  }\n\n  function parseMP(name, string, checkout) {\n    var parse = JSON.parse(string);\n    return parse.lineItems && __jsx(MPCart, {\n      cart: parse,\n      checkout: checkout,\n      cartName: name\n    });\n  }\n\n  function parseZinc(string, checkout) {\n    var parse = JSON.parse(string);\n    return parse.products && __jsx(ZincCart, {\n      cart: parse,\n      checkout: checkout\n    });\n  }\n\n  var id = props.id,\n      orderId = props.orderId,\n      orderName = props.orderName,\n      email = props.email,\n      first_name = props.first_name,\n      last_name = props.last_name,\n      streetAddress1 = props.streetAddress1,\n      streetAddress2 = props.streetAddress2,\n      city = props.city,\n      state = props.state,\n      zip = props.zip,\n      shopName = props.shopName,\n      phone = props.phone,\n      lineItems = props.lineItems,\n      currency = props.currency,\n      totalPrice = props.totalPrice,\n      subTotalPrice = props.subTotalPrice,\n      totalDiscount = props.totalDiscount,\n      totalTax = props.totalTax,\n      createAt = props.createAt,\n      mpCheckout = props.mpCheckout,\n      mpCart = props.mpCart,\n      zincCheckout = props.zincCheckout,\n      zincCart = props.zincCart,\n      note = props.note,\n      disabled = props.disabled,\n      buttons = props.buttons,\n      selectedOrderIndex = props.selectedOrderIndex,\n      updateIndex = props.updateIndex,\n      createCheckout = props.createCheckout;\n  return __jsx(Box, null, __jsx(Box, {\n    display: \"flex\",\n    paddingX: \"1em\",\n    paddingY: \".7em\",\n    onClick: !disabled ? function () {\n      return onCheckAllChange(!selectedOrderIndex, updateIndex, // createCheckout,\n      mpCart);\n    } : undefined,\n    pointerEvents: !selectedOrderIndex || selectedOrderIndex === id ? null : 'none',\n    className: !selectedOrderIndex || selectedOrderIndex === id ? 'hover' : null,\n    cursor: !selectedOrderIndex || selectedOrderIndex === id ? 'pointer' : null\n  }, __jsx(Box, null, __jsx(Box, {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    alignItems: \"center\",\n    mb: 1\n  }, __jsx(Heading, {\n    fontSize: \"sm\",\n    marginRight: 3\n  }, __jsx(\"a\", {\n    href: \"https://\".concat(shopName.split('.')[0], \".myshopify.com/admin/orders/\").concat(orderId),\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, orderName)), __jsx(Heading, {\n    fontSize: \"xs\",\n    fontWeight: 500,\n    letterSpacing: \"wide\",\n    textTransform: \"uppercase\",\n    color: \"gray.500\",\n    mr: 3\n  }, shopName.split('.')[0]), __jsx(Heading, {\n    fontSize: \"xs\",\n    color: \"gray.500\"\n  }, Intl.DateTimeFormat('en-US').format(Date.parse(createAt)))), __jsx(Box, {\n    as: \"p\",\n    fontSize: \"sm\",\n    color: \"#425A70\",\n    lineHeight: \"short\"\n  }, first_name, \" \", last_name, __jsx(\"br\", null), streetAddress1, \" \", streetAddress2, __jsx(\"br\", null), city, ', ', state, \" \", zip)), __jsx(Box, {\n    display: \"flex\",\n    marginLeft: \"auto\",\n    justifyContent: \"center\" // alignItems=\"center\"\n\n  }, buttons, __jsx(Button, {\n    bg: open && '#EDF2F7',\n    onClick: handleToggleClick,\n    color: \"#66788a\",\n    \"aria-label\": \"show line-items\",\n    height: \"1.3rem\",\n    minWidth: \"1.3rem\",\n    px: 0,\n    ml: 1\n  }, __jsx(Icon, {\n    name: \"chevron-down\",\n    size: \"22px\"\n  })))), open && __jsx(React.Fragment, null, __jsx(Box, {\n    marginLeft: \"-3px\",\n    background: \"#F7F9FD\",\n    border: \"muted\",\n    paddingY: \".7em\",\n    paddingX: \"1em\"\n  }, __jsx(Box, {\n    marginBottom: 2\n  }, __jsx(Text, {\n    fontSize: \"sm\",\n    fontWeight: 500,\n    color: \"#084B8A\"\n  }, \"Line Items\")), lineItems.map(function (a) {\n    return __jsx(OrderLine, {\n      key: a.id,\n      item: a.node ? a.node : a\n    });\n  })), mpCart && JSON.parse(mpCart).lineItems && __jsx(MPCart, {\n    cart: JSON.parse(mpCart),\n    cartName: \"Marketplace\"\n  }), zincCart && parseZinc(zincCart, zincCheckout), mpCheckout && __jsx(Box, {\n    marginLeft: \"-3px\",\n    background: \"#F1FAF5\",\n    border: \"muted\",\n    paddingY: \".7em\",\n    paddingX: \"1em\"\n  }, __jsx(Box, {\n    marginBottom: 10\n  }, __jsx(Text, {\n    size: 400,\n    fontWeight: 500,\n    color: \"#00783E\"\n  }, \"Marketplace Order\")), mpCheckout[0].marketLineItems.map(function (a) {\n    return __jsx(Box, {\n      background: \"#fff\",\n      border: \"muted\",\n      marginBottom: 5\n    }, __jsx(Box, {\n      display: \"flex\",\n      alignItems: \"center\"\n    }, __jsx(Box, {\n      height: \"100%\",\n      background: \"white\",\n      borderRight: \"1px solid #e8e9ea\"\n    }, __jsx(Box, {\n      as: \"img\",\n      src: a.variantImg,\n      width: \"100px\"\n    })), __jsx(Box, {\n      padding: 5,\n      paddingLeft: 10\n    }, __jsx(Heading, {\n      size: 300\n    }, a.title), __jsx(Box, {\n      display: \"flex\"\n    }, a.quantity > 1 && __jsx(Box, null, __jsx(Text, {\n      size: 300,\n      color: \"muted\"\n    }, \"$\", a.variantPrice, \" x \", a.quantity)), __jsx(Heading, {\n      size: 300,\n      marginRight: 10,\n      color: \"green\"\n    }, \"$\", a.variantPrice && priceString(a.variantPrice, a.quantity))))));\n  }))));\n}\nOrderListItem.propTypes = {\n  id: PropTypes.string,\n  orderId: PropTypes.string,\n  orderName: PropTypes.string,\n  email: PropTypes.string,\n  first_name: PropTypes.string,\n  last_name: PropTypes.string,\n  streetAddress1: PropTypes.string,\n  streetAddress2: PropTypes.string,\n  city: PropTypes.string,\n  state: PropTypes.string,\n  zip: PropTypes.string,\n  shopName: PropTypes.string,\n  phone: PropTypes.string,\n  lineItems: PropTypes.object,\n  currency: PropTypes.string,\n  totalPrice: PropTypes.number,\n  subTotalPrice: PropTypes.number,\n  totalDiscount: PropTypes.number,\n  totalTax: PropTypes.number,\n  createAt: PropTypes.number,\n  mpCheckout: PropTypes.object,\n  mpCart: PropTypes.object,\n  note: PropTypes.object,\n  disabled: PropTypes.bool,\n  selectedOrderIndex: PropTypes.number,\n  selectedLineIndex: PropTypes.array,\n  open: PropTypes.bool,\n  updateIndex: PropTypes.func,\n  index: PropTypes.number,\n  createCheckout: PropTypes.func,\n  buttons: PropTypes.element\n};","map":{"version":3,"sources":["/Users/junaid/openship2/components/common/orderListItem/OrderListItem.js"],"names":["React","useState","useEffect","Box","Heading","Text","Button","Icon","PropTypes","MPCart","ZincCart","OrderLine","priceString","price","quantity","total","Math","round","toString","substring","length","OrderListItem","props","open","setOpen","onCheckAllChange","e","updateIndexFunc","index","handleToggleClick","stopPropagation","prevOpen","parseMP","name","string","checkout","parse","JSON","lineItems","parseZinc","products","id","orderId","orderName","email","first_name","last_name","streetAddress1","streetAddress2","city","state","zip","shopName","phone","currency","totalPrice","subTotalPrice","totalDiscount","totalTax","createAt","mpCheckout","mpCart","zincCheckout","zincCart","note","disabled","buttons","selectedOrderIndex","updateIndex","createCheckout","undefined","split","Intl","DateTimeFormat","format","Date","map","a","node","marketLineItems","variantImg","title","variantPrice","propTypes","object","number","bool","selectedLineIndex","array","func","element"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Box, Heading, Text, Button, Icon } from '@chakra-ui/core';\nimport PropTypes from 'prop-types';\nimport MPCart from '../../pending/Cart/MPCart';\nimport ZincCart from '../../pending/Cart/ZincCart';\n\nimport OrderLine from './OrderLine';\n\nconst priceString = (price, quantity) => {\n  const total = Math.round(price * quantity * 100).toString();\n  return `${total.substring(0, total.length - 2)}.${total.substring(\n    total.length - 2\n  )}`;\n};\n\nexport default function OrderListItem(props) {\n  const [open, setOpen] = useState();\n\n  useEffect(() => {\n    setOpen(props.open);\n  }, [props.open]);\n\n  async function onCheckAllChange(e, updateIndexFunc) {\n    updateIndexFunc(e ? props.index : null);\n  }\n\n  function handleToggleClick(e) {\n    e.stopPropagation();\n    setOpen(prevOpen => !prevOpen);\n  }\n\n  function parseMP(name, string, checkout) {\n    const parse = JSON.parse(string);\n    return (\n      parse.lineItems && (\n        <MPCart cart={parse} checkout={checkout} cartName={name} />\n      )\n    );\n  }\n  function parseZinc(string, checkout) {\n    const parse = JSON.parse(string);\n    return parse.products && <ZincCart cart={parse} checkout={checkout} />;\n  }\n\n  const {\n    id,\n    orderId,\n    orderName,\n    email,\n    first_name,\n    last_name,\n    streetAddress1,\n    streetAddress2,\n    city,\n    state,\n    zip,\n    shopName,\n    phone,\n    lineItems,\n    currency,\n    totalPrice,\n    subTotalPrice,\n    totalDiscount,\n    totalTax,\n    createAt,\n    mpCheckout,\n    mpCart,\n    zincCheckout,\n    zincCart,\n    note,\n    disabled,\n    buttons,\n    selectedOrderIndex,\n    updateIndex,\n    createCheckout,\n  } = props;\n  return (\n    <Box>\n      <Box\n        display=\"flex\"\n        paddingX=\"1em\"\n        paddingY=\".7em\"\n        onClick={\n          !disabled\n            ? () =>\n                onCheckAllChange(\n                  !selectedOrderIndex,\n                  updateIndex,\n                  // createCheckout,\n                  mpCart\n                )\n            : undefined\n        }\n        pointerEvents={\n          !selectedOrderIndex || selectedOrderIndex === id ? null : 'none'\n        }\n        className={\n          !selectedOrderIndex || selectedOrderIndex === id ? 'hover' : null\n        }\n        cursor={\n          !selectedOrderIndex || selectedOrderIndex === id ? 'pointer' : null\n        }\n      >\n        <Box>\n          <Box display=\"flex\" flexWrap=\"wrap\" alignItems=\"center\" mb={1}>\n            <Heading fontSize=\"sm\" marginRight={3}>\n              <a\n                href={`https://${\n                  shopName.split('.')[0]\n                }.myshopify.com/admin/orders/${orderId}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {orderName}\n              </a>\n            </Heading>\n            <Heading\n              fontSize=\"xs\"\n              fontWeight={500}\n              letterSpacing=\"wide\"\n              textTransform=\"uppercase\"\n              color=\"gray.500\"\n              mr={3}\n            >\n              {shopName.split('.')[0]}\n            </Heading>\n            <Heading fontSize=\"xs\" color=\"gray.500\">\n              {Intl.DateTimeFormat('en-US').format(Date.parse(createAt))}\n            </Heading>\n          </Box>\n          <Box as=\"p\" fontSize=\"sm\" color=\"#425A70\" lineHeight=\"short\">\n            {first_name} {last_name}\n            <br />\n            {streetAddress1} {streetAddress2}\n            <br />\n            {city}\n            {', '}\n            {state} {zip}\n          </Box>\n        </Box>\n        <Box\n          display=\"flex\"\n          marginLeft=\"auto\"\n          justifyContent=\"center\"\n          // alignItems=\"center\"\n        >\n          {buttons}\n\n          <Button\n            bg={open && '#EDF2F7'}\n            onClick={handleToggleClick}\n            color=\"#66788a\"\n            aria-label=\"show line-items\"\n            height=\"1.3rem\"\n            minWidth=\"1.3rem\"\n            px={0}\n            ml={1}\n          >\n            <Icon name=\"chevron-down\" size=\"22px\" />\n          </Button>\n        </Box>\n      </Box>\n      {open && (\n        <>\n          <Box\n            marginLeft=\"-3px\"\n            background=\"#F7F9FD\"\n            border=\"muted\"\n            paddingY=\".7em\"\n            paddingX=\"1em\"\n          >\n            <Box marginBottom={2}>\n              <Text fontSize=\"sm\" fontWeight={500} color=\"#084B8A\">\n                Line Items\n              </Text>\n            </Box>\n            {lineItems.map(a => (\n              <OrderLine key={a.id} item={a.node ? a.node : a} />\n            ))}\n          </Box>\n          {mpCart && JSON.parse(mpCart).lineItems && (\n            <MPCart cart={JSON.parse(mpCart)} cartName=\"Marketplace\" />\n          )}\n          {zincCart && parseZinc(zincCart, zincCheckout)}\n          {mpCheckout && (\n            <Box\n              marginLeft=\"-3px\"\n              background=\"#F1FAF5\"\n              border=\"muted\"\n              paddingY=\".7em\"\n              paddingX=\"1em\"\n            >\n              <Box marginBottom={10}>\n                <Text size={400} fontWeight={500} color=\"#00783E\">\n                  Marketplace Order\n                </Text>\n              </Box>\n              {mpCheckout[0].marketLineItems.map(a => (\n                <Box background=\"#fff\" border=\"muted\" marginBottom={5}>\n                  <Box display=\"flex\" alignItems=\"center\">\n                    <Box\n                      height=\"100%\"\n                      background=\"white\"\n                      borderRight=\"1px solid #e8e9ea\"\n                    >\n                      <Box as=\"img\" src={a.variantImg} width=\"100px\" />\n                    </Box>\n                    <Box padding={5} paddingLeft={10}>\n                      <Heading size={300}>{a.title}</Heading>\n                      <Box display=\"flex\">\n                        {a.quantity > 1 && (\n                          <Box>\n                            <Text size={300} color=\"muted\">\n                              ${a.variantPrice} x {a.quantity}\n                            </Text>\n                          </Box>\n                        )}\n                        <Heading size={300} marginRight={10} color=\"green\">\n                          $\n                          {a.variantPrice &&\n                            priceString(a.variantPrice, a.quantity)}\n                        </Heading>\n                      </Box>\n                    </Box>\n                  </Box>\n                </Box>\n              ))}\n            </Box>\n          )}\n        </>\n      )}\n    </Box>\n  );\n}\n\nOrderListItem.propTypes = {\n  id: PropTypes.string,\n  orderId: PropTypes.string,\n  orderName: PropTypes.string,\n  email: PropTypes.string,\n  first_name: PropTypes.string,\n  last_name: PropTypes.string,\n  streetAddress1: PropTypes.string,\n  streetAddress2: PropTypes.string,\n  city: PropTypes.string,\n  state: PropTypes.string,\n  zip: PropTypes.string,\n  shopName: PropTypes.string,\n  phone: PropTypes.string,\n  lineItems: PropTypes.object,\n  currency: PropTypes.string,\n  totalPrice: PropTypes.number,\n  subTotalPrice: PropTypes.number,\n  totalDiscount: PropTypes.number,\n  totalTax: PropTypes.number,\n  createAt: PropTypes.number,\n  mpCheckout: PropTypes.object,\n  mpCart: PropTypes.object,\n  note: PropTypes.object,\n  disabled: PropTypes.bool,\n  selectedOrderIndex: PropTypes.number,\n  selectedLineIndex: PropTypes.array,\n  open: PropTypes.bool,\n  updateIndex: PropTypes.func,\n  index: PropTypes.number,\n  createCheckout: PropTypes.func,\n  buttons: PropTypes.element,\n};\n"]},"metadata":{},"sourceType":"module"}