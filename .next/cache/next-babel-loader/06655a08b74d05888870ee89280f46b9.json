{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { Pane, Heading, Text, Avatar, Icon } from 'evergreen-ui';\nimport PropTypes from 'prop-types';\nimport VariantSelector from './VariantSelector';\nimport Button from '../../common/Button';\n\nclass Product extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleOptionChange\", event => {\n      const {\n        product\n      } = this.props;\n      const {\n        target\n      } = event;\n      const {\n        selectedOptions\n      } = this.state;\n      selectedOptions[target.name] = target.value;\n      const selectedVariant = product.variants.edges.find(variant => variant.node.selectedOptions.every(selectedOption => selectedOptions[selectedOption.name] === selectedOption.value)).node;\n      this.setState({\n        selectedVariant,\n        selectedVariantImage: selectedVariant.image.src\n      });\n    });\n\n    _defineProperty(this, \"handleQuantityChange\", event => {\n      this.setState({\n        selectedVariantQuantity: event.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleQuantityDown\", () => {\n      this.setState(prevState => ({\n        selectedVariantQuantity: prevState.selectedVariantQuantity - 1 || 1\n      }));\n    });\n\n    _defineProperty(this, \"handleQuantityUp\", () => {\n      this.setState(prevState => ({\n        selectedVariantQuantity: prevState.selectedVariantQuantity + 1\n      }));\n    });\n\n    _defineProperty(this, \"findImage\", (images, variantId) => {\n      const primary = images[0];\n      const image = images.filter(function (a) {\n        return a.variant_ids.includes(variantId);\n      })[0];\n      return (image || primary).src;\n    });\n\n    this.state = {\n      selectedOptions: {},\n      selectedVariantQuantity: 1\n    };\n  }\n\n  componentWillMount() {\n    const {\n      product\n    } = this.props;\n    product.options.forEach(selector => {\n      this.setState(prevState => ({\n        selectedOptions: _objectSpread({}, prevState.selectedOptions, {\n          [selector.name]: selector.values[0]\n        })\n      }));\n    });\n  }\n\n  render() {\n    const {\n      product,\n      addVariantToCart,\n      atcDisabled\n    } = this.props;\n    const {\n      selectedVariantImage,\n      selectedVariantQuantity,\n      selectedVariant\n    } = this.state;\n    const variantImage = selectedVariantImage || product.images.edges[0].node.src;\n    const variant = selectedVariant || product.variants.edges[0].node;\n    const variantQuantity = selectedVariantQuantity || 1;\n    const variantSelectors = product.options.map(option => React.createElement(VariantSelector, {\n      handleOptionChange: this.handleOptionChange,\n      key: option.id.toString(),\n      option: option\n    }));\n    return React.createElement(React.Fragment, null, React.createElement(Pane, {\n      display: \"flex\",\n      alignItems: \"center\",\n      borderTop: \"0.1rem solid #dfe3e8\"\n    }, React.createElement(Pane, {\n      padding: 15\n    }, product.images.edges.length && React.createElement(Avatar, {\n      src: variantImage,\n      alt: `${product.title} product shot`,\n      borderStyle: \"solid\",\n      borderWidth: \"1px\",\n      borderRadius: 3,\n      borderColor: \"#e8e9ea\",\n      size: 90\n    })), React.createElement(Pane, {\n      padding: 15,\n      paddingLeft: 0,\n      marginTop: 3,\n      marginBottom: \"auto\"\n    }, React.createElement(Heading, {\n      size: 500\n    }, product.title), React.createElement(Heading, {\n      size: 400,\n      marginRight: 10,\n      color: \"green\"\n    }, \"$\", variant.price), React.createElement(Pane, {\n      display: \"flex\",\n      marginTop: 3,\n      marginBottom: 7\n    }, variantSelectors), !atcDisabled && React.createElement(Pane, {\n      display: \"flex\"\n    }, React.createElement(Pane, {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      paddingRight: 5\n    }, React.createElement(Pane, {\n      display: \"flex\",\n      paddingRight: 5,\n      height: 20\n    }, React.createElement(Pane, {\n      display: \"flex\",\n      alignItems: \"center\",\n      background: \"#f4f4f4\",\n      paddingX: 5,\n      borderRadius: 2,\n      boxShadow: \"0 0 2px rgba(67, 90, 111, 0.3)\"\n    }, React.createElement(Icon, {\n      color: \"#425A70\",\n      icon: \"minus\",\n      appearance: \"minimal\",\n      size: 12,\n      cursor: \"pointer\",\n      onClick: this.handleQuantityDown\n    }), React.createElement(Text, {\n      size: 300,\n      marginX: 9\n    }, selectedVariantQuantity), React.createElement(Icon, {\n      color: \"#425A70\",\n      icon: \"plus\",\n      appearance: \"minimal\",\n      size: 12,\n      cursor: \"pointer\",\n      onClick: this.handleQuantityUp\n    }))), React.createElement(Pane, {\n      height: 20\n    }, React.createElement(Button, {\n      boxShadow: \"0 0 2px rgba(67, 90, 111, 0.3)\",\n      intent: \"primary\",\n      height: 20,\n      onClick: () => addVariantToCart(variant.id, selectedVariantQuantity),\n      disabled: atcDisabled\n    }, \"Add to Cart\")))))));\n  }\n\n}\n\n_defineProperty(Product, \"propTypes\", {\n  product: PropTypes.object,\n  addVariantToCart: PropTypes.func,\n  atcDisabled: PropTypes.bool\n});\n\nexport default Product;","map":{"version":3,"sources":["/Users/junaid/openship/components/find/findListItem/Product.js"],"names":["React","Component","Pane","Heading","Text","Avatar","Icon","PropTypes","VariantSelector","Button","Product","constructor","props","event","product","target","selectedOptions","state","name","value","selectedVariant","variants","edges","find","variant","node","every","selectedOption","setState","selectedVariantImage","image","src","selectedVariantQuantity","prevState","images","variantId","primary","filter","a","variant_ids","includes","componentWillMount","options","forEach","selector","values","render","addVariantToCart","atcDisabled","variantImage","variantQuantity","variantSelectors","map","option","handleOptionChange","id","toString","length","title","price","handleQuantityDown","handleQuantityUp","object","func","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Pane, Heading, Text, Avatar, Icon } from 'evergreen-ui';\nimport PropTypes from 'prop-types';\nimport VariantSelector from './VariantSelector';\nimport Button from '../../common/Button';\n\nclass Product extends Component {\n  static propTypes = {\n    product: PropTypes.object,\n    addVariantToCart: PropTypes.func,\n    atcDisabled: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedOptions: {},\n      selectedVariantQuantity: 1,\n    };\n  }\n\n  componentWillMount() {\n    const { product } = this.props;\n    product.options.forEach(selector => {\n      this.setState(prevState => ({\n        selectedOptions: {\n          ...prevState.selectedOptions,\n          [selector.name]: selector.values[0],\n        },\n      }));\n    });\n  }\n\n  handleOptionChange = event => {\n    const { product } = this.props;\n    const { target } = event;\n    const { selectedOptions } = this.state;\n    selectedOptions[target.name] = target.value;\n\n    const selectedVariant = product.variants.edges.find(variant =>\n      variant.node.selectedOptions.every(\n        selectedOption =>\n          selectedOptions[selectedOption.name] === selectedOption.value\n      )\n    ).node;\n\n    this.setState({\n      selectedVariant,\n      selectedVariantImage: selectedVariant.image.src,\n    });\n  };\n\n  handleQuantityChange = event => {\n    this.setState({\n      selectedVariantQuantity: event.target.value,\n    });\n  };\n\n  handleQuantityDown = () => {\n    this.setState(prevState => ({\n      selectedVariantQuantity: prevState.selectedVariantQuantity - 1 || 1,\n    }));\n  };\n\n  handleQuantityUp = () => {\n    this.setState(prevState => ({\n      selectedVariantQuantity: prevState.selectedVariantQuantity + 1,\n    }));\n  };\n\n  findImage = (images, variantId) => {\n    const primary = images[0];\n\n    const image = images.filter(function(a) {\n      return a.variant_ids.includes(variantId);\n    })[0];\n\n    return (image || primary).src;\n  };\n\n  render() {\n    const { product, addVariantToCart, atcDisabled } = this.props;\n    const {\n      selectedVariantImage,\n      selectedVariantQuantity,\n      selectedVariant,\n    } = this.state;\n    const variantImage =\n      selectedVariantImage || product.images.edges[0].node.src;\n    const variant = selectedVariant || product.variants.edges[0].node;\n    const variantQuantity = selectedVariantQuantity || 1;\n    const variantSelectors = product.options.map(option => (\n      <VariantSelector\n        handleOptionChange={this.handleOptionChange}\n        key={option.id.toString()}\n        option={option}\n      />\n    ));\n    return (\n      <>\n        <Pane\n          display=\"flex\"\n          alignItems=\"center\"\n          borderTop=\"0.1rem solid #dfe3e8\"\n        >\n          <Pane padding={15}>\n            {product.images.edges.length && (\n              <Avatar\n                src={variantImage}\n                alt={`${product.title} product shot`}\n                borderStyle=\"solid\"\n                borderWidth=\"1px\"\n                borderRadius={3}\n                borderColor=\"#e8e9ea\"\n                size={90}\n              />\n            )}\n          </Pane>\n          <Pane padding={15} paddingLeft={0} marginTop={3} marginBottom=\"auto\">\n            <Heading size={500}>{product.title}</Heading>\n            <Heading size={400} marginRight={10} color=\"green\">\n              ${variant.price}\n            </Heading>\n            <Pane display=\"flex\" marginTop={3} marginBottom={7}>\n              {variantSelectors}\n            </Pane>\n            {!atcDisabled && (\n              <Pane display=\"flex\">\n                <Pane\n                  display=\"flex\"\n                  alignItems=\"center\"\n                  justifyContent=\"center\"\n                  paddingRight={5}\n                >\n                  <Pane display=\"flex\" paddingRight={5} height={20}>\n                    <Pane\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      background=\"#f4f4f4\"\n                      paddingX={5}\n                      borderRadius={2}\n                      boxShadow=\"0 0 2px rgba(67, 90, 111, 0.3)\"\n                    >\n                      <Icon\n                        color=\"#425A70\"\n                        icon=\"minus\"\n                        appearance=\"minimal\"\n                        size={12}\n                        cursor=\"pointer\"\n                        onClick={this.handleQuantityDown}\n                      />\n\n                      <Text size={300} marginX={9}>\n                        {selectedVariantQuantity}\n                      </Text>\n\n                      <Icon\n                        color=\"#425A70\"\n                        icon=\"plus\"\n                        appearance=\"minimal\"\n                        size={12}\n                        cursor=\"pointer\"\n                        onClick={this.handleQuantityUp}\n                      />\n                    </Pane>\n                  </Pane>\n                  <Pane height={20}>\n                    <Button\n                      boxShadow=\"0 0 2px rgba(67, 90, 111, 0.3)\"\n                      intent=\"primary\"\n                      height={20}\n                      onClick={() =>\n                        addVariantToCart(variant.id, selectedVariantQuantity)\n                      }\n                      disabled={atcDisabled}\n                    >\n                      Add to Cart\n                    </Button>\n                  </Pane>\n                </Pane>\n              </Pane>\n            )}\n          </Pane>\n        </Pane>\n      </>\n    );\n  }\n}\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}